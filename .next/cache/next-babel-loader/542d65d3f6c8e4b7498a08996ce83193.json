{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = Index;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _Author = _interopRequireDefault(require(\"../components/Author\"));\n\nvar _Layout = _interopRequireDefault(require(\"../components/Layout\"));\n\nvar _BasicMeta = _interopRequireDefault(require(\"../components/meta/BasicMeta\"));\n\nvar _JsonLdMeta = _interopRequireDefault(require(\"../components/meta/JsonLdMeta\"));\n\nvar _OpenGraphMeta = _interopRequireDefault(require(\"../components/meta/OpenGraphMeta\"));\n\nvar _TwitterCardMeta = _interopRequireDefault(require(\"../components/meta/TwitterCardMeta\"));\n\nvar _SocialList = require(\"../components/SocialList\");\n\nvar _Subscribe = _interopRequireDefault(require(\"../components/Subscribe\"));\n\nvar _TagButton = _interopRequireDefault(require(\"../components/TagButton\"));\n\nvar _authors = require(\"../lib/authors\");\n\nvar _tags = require(\"../lib/tags\");\n\nvar _Date = _interopRequireDefault(require(\"../components/Date\"));\n\nvar _core = require(\"@chakra-ui/core\");\n\nvar _jsxFileName = \"/Users/christian/thoughts/src/layouts/index.tsx\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst verify = require('../lib/verify');\n\nconst {\n  parse\n} = require('url');\n\nconst increment = require('../lib/increment-views');\n\nmodule.exports = async (req, res) => {\n  const orig = req.headers.origin;\n\n  if (/https:\\/\\/(.*\\.)?leerob\\.io/.test(orig)) {\n    res.setHeader('Access-Control-Allow-Origin', orig);\n    res.setHeader('Access-Control-Allow-Methods', 'GET');\n  } // ensure no duplicate views\n\n\n  verify(req);\n  const {\n    query: {\n      id\n    }\n  } = parse(req.url, true);\n\n  if (!id) {\n    const err = new Error('Missing `id` parameter');\n    err.statusCode = 400;\n    throw err;\n  }\n\n  const {\n    snapshot\n  } = await increment(id);\n  return {\n    total: snapshot.val()\n  };\n};\n\nfunction Index({\n  title,\n  date,\n  slug,\n  author,\n  tags,\n  description,\n  readtime\n}) {\n  const keywords = tags.map(it => (0, _tags.getTag)(it).name);\n  const authorName = (0, _authors.getAuthor)(author).name;\n  return ({\n    children: content\n  }) => {\n    return __jsx(_Layout.default, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 7\n      }\n    }, __jsx(_BasicMeta.default, {\n      url: `/posts/${slug}`,\n      title: title,\n      keywords: keywords,\n      description: description,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }\n    }), __jsx(_TwitterCardMeta.default, {\n      url: `/posts/${slug}`,\n      title: title,\n      description: description,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }\n    }), __jsx(_OpenGraphMeta.default, {\n      url: `/posts/${slug}`,\n      title: title,\n      description: description,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }\n    }), __jsx(_JsonLdMeta.default, {\n      url: `/posts/${slug}`,\n      title: title,\n      keywords: keywords,\n      date: date,\n      author: authorName,\n      description: description,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }\n    }), __jsx(_core.Stack, {\n      as: \"article\",\n      spacing: 8,\n      justifyContent: \"center\",\n      alignItems: \"flex-start\",\n      m: \"0 auto 4rem auto\",\n      maxWidth: \"700px\",\n      w: \"100%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }\n    }, __jsx(_core.Flex, {\n      flexDirection: \"column\",\n      justifyContent: \"flex-start\",\n      alignItems: \"flex-start\",\n      maxWidth: \"700px\",\n      w: \"100%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }\n    }, __jsx(_core.Heading, {\n      letterSpacing: \"tight\",\n      mb: 2,\n      as: \"h1\",\n      size: \"2xl\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 12\n      }\n    }, title), __jsx(_core.Flex, {\n      justify: \"space-between\",\n      align: ['initial', 'center'],\n      direction: ['column', 'row'],\n      mt: 2,\n      w: \"100%\",\n      mb: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 11\n      }\n    }, __jsx(_core.Flex, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 13\n      }\n    }, __jsx(_core.Avatar, {\n      size: \"xs\",\n      name: \"C.W. Moon\",\n      src: \"https://bit.ly/34WFAj1\",\n      mr: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 15\n      }\n    }), __jsx(_core.Text, {\n      fontSize: \"sm\",\n      color: \"fafafa\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 16\n      }\n    }, __jsx(_Author.default, {\n      author: (0, _authors.getAuthor)(author),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 16\n      }\n    }), ` / `, __jsx(_Date.default, {\n      date: date,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 16\n      }\n    }), ` / `, readtime, ` min read `)))), content, __jsx(\"article\", {\n      className: \"jsx-2512541463\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 11\n      }\n    }, __jsx(\"ul\", {\n      className: \"jsx-2512541463\" + \" \" + \"tag-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 13\n      }\n    }, tags.map((it, i) => __jsx(\"li\", {\n      key: i,\n      className: \"jsx-2512541463\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }\n    }, __jsx(_TagButton.default, {\n      tag: (0, _tags.getTag)(it),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 19\n      }\n    }))))), __jsx(_Subscribe.default, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 11\n      }\n    })), __jsx(\"footer\", {\n      className: \"jsx-2512541463\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }\n    }, __jsx(\"div\", {\n      className: \"jsx-2512541463\" + \" \" + \"social-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 13\n      }\n    }, __jsx(_SocialList.SocialList, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 15\n      }\n    }))), __jsx(_JSXStyle, {\n      id: \"2512541463\",\n      __self: this\n    }, \".container.jsx-2512541463{display:block;max-width:36rem;width:100%;margin:0 auto;padding:0 1.5rem;box-sizing:border-box;}.metadata.jsx-2512541463 div.jsx-2512541463{display:inline-block;margin-right:0.5rem;}article.jsx-2512541463{-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;}.tag-list.jsx-2512541463{list-style:none;text-align:right;margin:1.75rem 0 0 0;padding:0;}.tag-list.jsx-2512541463 li.jsx-2512541463{display:inline-block;margin-left:0.5rem;}.social-list.jsx-2512541463{margin-top:3rem;text-align:center;}@media (min-width:769px){.container.jsx-2512541463{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9jaHJpc3RpYW4vdGhvdWdodHMvc3JjL2xheW91dHMvaW5kZXgudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWlMVyxBQUc2QixBQVFPLEFBSVAsQUFHRSxBQU1LLEFBSUwsQUFNRCxjQTlCQyxFQWVDLEFBVUMsS0FqQkUsQUFhRCxTQXBCUixHQWVVLENBVXZCLE1BSkEsQ0FwQmdCLEFBT2hCLGFBR0EsQUFLWSxDQWRPLFNBZW5CLFFBZHdCLEVBMkJFLG9CQTFCMUIsMERBMkJFIiwiZmlsZSI6Ii9Vc2Vycy9jaHJpc3RpYW4vdGhvdWdodHMvc3JjL2xheW91dHMvaW5kZXgudHN4Iiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEhlYWQgZnJvbSBcIm5leHQvaGVhZFwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHN0eWxlcyBmcm9tIFwiLi4vLi4vcHVibGljL3N0eWxlcy9jb250ZW50Lm1vZHVsZS5jc3NcIjtcbmltcG9ydCBBdXRob3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXV0aG9yXCI7XG5pbXBvcnQgTGF5b3V0IGZyb20gXCIuLi9jb21wb25lbnRzL0xheW91dFwiO1xuaW1wb3J0IEJhc2ljTWV0YSBmcm9tIFwiLi4vY29tcG9uZW50cy9tZXRhL0Jhc2ljTWV0YVwiO1xuaW1wb3J0IEpzb25MZE1ldGEgZnJvbSBcIi4uL2NvbXBvbmVudHMvbWV0YS9Kc29uTGRNZXRhXCI7XG5pbXBvcnQgT3BlbkdyYXBoTWV0YSBmcm9tIFwiLi4vY29tcG9uZW50cy9tZXRhL09wZW5HcmFwaE1ldGFcIjtcbmltcG9ydCBUd2l0dGVyQ2FyZE1ldGEgZnJvbSBcIi4uL2NvbXBvbmVudHMvbWV0YS9Ud2l0dGVyQ2FyZE1ldGFcIjtcbmltcG9ydCB7IFNvY2lhbExpc3QgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Tb2NpYWxMaXN0XCI7XG5pbXBvcnQgU3Vic2NyaWJlIGZyb20gXCIuLi9jb21wb25lbnRzL1N1YnNjcmliZVwiO1xuaW1wb3J0IFRhZ0J1dHRvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9UYWdCdXR0b25cIjtcbmltcG9ydCB7IGdldEF1dGhvciB9IGZyb20gXCIuLi9saWIvYXV0aG9yc1wiO1xuaW1wb3J0IHsgZ2V0VGFnIH0gZnJvbSBcIi4uL2xpYi90YWdzXCI7XG5pbXBvcnQgRGF0ZSBmcm9tIFwiLi4vY29tcG9uZW50cy9EYXRlXCI7XG4vLyBpbXBvcnQgVmlld0NvdW50ZXIgZnJvbSAnLi4vY29tcG9uZW50cy9WaWV3Q291bnRlcic7XG5pbXBvcnQge1xuICB1c2VDb2xvck1vZGUsXG4gIEhlYWRpbmcsXG4gIFRleHQsXG4gIEZsZXgsXG4gIFN0YWNrLFxuICBBdmF0YXIsXG4gIExpbmssXG4gIEJveFxufSBmcm9tICdAY2hha3JhLXVpL2NvcmUnO1xuaW1wb3J0IElmcmFtZVJlc2l6ZXIgZnJvbSAnaWZyYW1lLXJlc2l6ZXItcmVhY3QnO1xuaW1wb3J0IHsgcGFyc2VJU08sIGZvcm1hdElTTyB9IGZyb20gJ2RhdGUtZm5zJztcblxuY29uc3QgdmVyaWZ5ID0gcmVxdWlyZSgnLi4vbGliL3ZlcmlmeScpO1xuY29uc3Qge3BhcnNlfSA9IHJlcXVpcmUoJ3VybCcpO1xuY29uc3QgaW5jcmVtZW50ID0gcmVxdWlyZSgnLi4vbGliL2luY3JlbWVudC12aWV3cycpO1xuXG5cbm1vZHVsZS5leHBvcnRzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IG9yaWcgPSByZXEuaGVhZGVycy5vcmlnaW47XG4gIGlmICgvaHR0cHM6XFwvXFwvKC4qXFwuKT9sZWVyb2JcXC5pby8udGVzdChvcmlnKSkge1xuICAgICAgcmVzLnNldEhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJywgb3JpZyk7XG4gICAgICByZXMuc2V0SGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzJywgJ0dFVCcpO1xuICB9XG5cbiAgLy8gZW5zdXJlIG5vIGR1cGxpY2F0ZSB2aWV3c1xuICB2ZXJpZnkocmVxKTtcbiAgY29uc3Qge1xuICAgICAgcXVlcnk6IHtpZH1cbiAgfSA9IHBhcnNlKHJlcS51cmwsIHRydWUpO1xuXG4gIGlmICghaWQpIHtcbiAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcignTWlzc2luZyBgaWRgIHBhcmFtZXRlcicpO1xuICAgICAgZXJyLnN0YXR1c0NvZGUgPSA0MDA7XG4gICAgICB0aHJvdyBlcnI7XG4gIH1cblxuICBjb25zdCB7c25hcHNob3R9ID0gYXdhaXQgaW5jcmVtZW50KGlkKTtcbiAgcmV0dXJuIHt0b3RhbDogc25hcHNob3QudmFsKCl9O1xufTtcblxudHlwZSBQcm9wcyA9IHtcbiAgdGl0bGU6IHN0cmluZztcbiAgZGF0ZTogRGF0ZTtcbiAgc2x1Zzogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICB0YWdzOiBzdHJpbmdbXTtcbiAgYXV0aG9yOiBzdHJpbmc7XG4gIHJlYWR0aW1lOiBzdHJpbmc7XG59O1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gSW5kZXgoe1xuICB0aXRsZSxcbiAgZGF0ZSxcbiAgc2x1ZyxcbiAgYXV0aG9yLFxuICB0YWdzLFxuICBkZXNjcmlwdGlvbixcbiAgcmVhZHRpbWUsXG59OiBQcm9wcykge1xuICBjb25zdCBrZXl3b3JkcyA9IHRhZ3MubWFwKChpdCkgPT4gZ2V0VGFnKGl0KS5uYW1lKTtcbiAgY29uc3QgYXV0aG9yTmFtZSA9IGdldEF1dGhvcihhdXRob3IpLm5hbWU7XG5cblxuXG4gIHJldHVybiAoeyBjaGlsZHJlbjogY29udGVudCB9KSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxMYXlvdXQ+XG4gICAgICAgIFxuICAgICAgICA8QmFzaWNNZXRhXG4gICAgICAgICAgdXJsPXtgL3Bvc3RzLyR7c2x1Z31gfVxuICAgICAgICAgIHRpdGxlPXt0aXRsZX1cbiAgICAgICAgICBrZXl3b3Jkcz17a2V5d29yZHN9XG4gICAgICAgICAgZGVzY3JpcHRpb249e2Rlc2NyaXB0aW9ufVxuICAgICAgICAvPlxuICAgICAgICA8VHdpdHRlckNhcmRNZXRhXG4gICAgICAgICAgdXJsPXtgL3Bvc3RzLyR7c2x1Z31gfVxuICAgICAgICAgIHRpdGxlPXt0aXRsZX1cbiAgICAgICAgICBkZXNjcmlwdGlvbj17ZGVzY3JpcHRpb259XG4gICAgICAgIC8+XG4gICAgICAgIDxPcGVuR3JhcGhNZXRhXG4gICAgICAgICAgdXJsPXtgL3Bvc3RzLyR7c2x1Z31gfVxuICAgICAgICAgIHRpdGxlPXt0aXRsZX1cbiAgICAgICAgICBkZXNjcmlwdGlvbj17ZGVzY3JpcHRpb259XG4gICAgICAgIC8+XG4gICAgICAgIDxKc29uTGRNZXRhXG4gICAgICAgICAgdXJsPXtgL3Bvc3RzLyR7c2x1Z31gfVxuICAgICAgICAgIHRpdGxlPXt0aXRsZX1cbiAgICAgICAgICBrZXl3b3Jkcz17a2V5d29yZHN9XG4gICAgICAgICAgZGF0ZT17ZGF0ZX1cbiAgICAgICAgICBhdXRob3I9e2F1dGhvck5hbWV9XG4gICAgICAgICAgZGVzY3JpcHRpb249e2Rlc2NyaXB0aW9ufVxuICAgICAgICAvPlxuICAgICAgIFxuXG4gICAgICAgIDxTdGFja1xuICAgICAgICBhcz1cImFydGljbGVcIlxuICAgICAgICBzcGFjaW5nPXs4fVxuICAgICAgICBqdXN0aWZ5Q29udGVudD1cImNlbnRlclwiXG4gICAgICAgIGFsaWduSXRlbXM9XCJmbGV4LXN0YXJ0XCJcbiAgICAgICAgbT1cIjAgYXV0byA0cmVtIGF1dG9cIlxuICAgICAgICBtYXhXaWR0aD1cIjcwMHB4XCJcbiAgICAgICAgdz1cIjEwMCVcIlxuICAgICAgPlxuICAgICAgICA8RmxleFxuICAgICAgICAgIGZsZXhEaXJlY3Rpb249XCJjb2x1bW5cIlxuICAgICAgICAgIGp1c3RpZnlDb250ZW50PVwiZmxleC1zdGFydFwiXG4gICAgICAgICAgYWxpZ25JdGVtcz1cImZsZXgtc3RhcnRcIlxuICAgICAgICAgIG1heFdpZHRoPVwiNzAwcHhcIlxuICAgICAgICAgIHc9XCIxMDAlXCJcbiAgICAgICAgPlxuICAgICAgICAgICA8SGVhZGluZyBsZXR0ZXJTcGFjaW5nPVwidGlnaHRcIiBtYj17Mn0gYXM9XCJoMVwiIHNpemU9XCIyeGxcIj5cbiAgICAgICAgICAgIHt0aXRsZX1cbiAgICAgICAgICA8L0hlYWRpbmc+XG4gICAgICAgICAgPEZsZXhcbiAgICAgICAgICAgIGp1c3RpZnk9XCJzcGFjZS1iZXR3ZWVuXCJcbiAgICAgICAgICAgIGFsaWduPXtbJ2luaXRpYWwnLCAnY2VudGVyJ119XG4gICAgICAgICAgICBkaXJlY3Rpb249e1snY29sdW1uJywgJ3JvdyddfVxuICAgICAgICAgICAgbXQ9ezJ9XG4gICAgICAgICAgICB3PVwiMTAwJVwiXG4gICAgICAgICAgICBtYj17NH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8RmxleCBhbGlnbj1cImNlbnRlclwiPlxuICAgICAgICAgICAgICA8QXZhdGFyXG4gICAgICAgICAgICAgICAgc2l6ZT1cInhzXCJcbiAgICAgICAgICAgICAgICBuYW1lPVwiQy5XLiBNb29uXCJcbiAgICAgICAgICAgICAgICBzcmM9XCJodHRwczovL2JpdC5seS8zNFdGQWoxXCJcbiAgICAgICAgICAgICAgICBtcj17Mn1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgIDxUZXh0IGZvbnRTaXplPVwic21cIiBjb2xvcj1cImZhZmFmYVwiPlxuICAgICAgICAgICAgICAgPEF1dGhvciBhdXRob3I9e2dldEF1dGhvcihhdXRob3IpfSAvPlxuICAgICAgICAgICAgICAge2AgLyBgfVxuICAgICAgICAgICAgICAgPERhdGUgIGRhdGU9e2RhdGV9IC8+XG4gICAgICAgICAgICAgICB7YCAvIGB9IFxuICAgICAgICAgICAgICAge3JlYWR0aW1lfVxuICAgICAgICAgICAgICAge2AgbWluIHJlYWQgYH0gXG4gICAgICAgICAgICAgICAgPC9UZXh0PlxuICAgICAgICAgICAgICAgIHsvKiA8Vmlld0NvdW50ZXIgaWQ9e3NsdWd9IC8+ICovfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDwvRmxleD5cbiAgICAgICAgICAgIDwvRmxleD5cbiAgICAgICAgICAgIDwvRmxleD5cbiAgICAgICAgICAgIHtjb250ZW50fVxuICAgICAgICAgIDxhcnRpY2xlPlxuICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT17XCJ0YWctbGlzdFwifT5cbiAgICAgICAgICAgICAge3RhZ3MubWFwKChpdCwgaSkgPT4gKFxuICAgICAgICAgICAgICAgIDxsaSBrZXk9e2l9PlxuICAgICAgICAgICAgICAgICAgPFRhZ0J1dHRvbiB0YWc9e2dldFRhZyhpdCl9IC8+XG4gICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICAgIDwvYXJ0aWNsZT5cbiAgICAgICAgICA8U3Vic2NyaWJlLz5cblxuICAgICAgICAgIDwvU3RhY2s+XG4gICAgICAgICAgPGZvb3Rlcj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtcInNvY2lhbC1saXN0XCJ9PlxuICAgICAgICAgICAgICA8U29jaWFsTGlzdCAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9mb290ZXI+XG4gICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAge2BcbiAgICAgICAgICAgIC5jb250YWluZXIge1xuICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAgICAgbWF4LXdpZHRoOiAzNnJlbTtcbiAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICAgIG1hcmdpbjogMCBhdXRvO1xuICAgICAgICAgICAgICBwYWRkaW5nOiAwIDEuNXJlbTtcbiAgICAgICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5tZXRhZGF0YSBkaXYge1xuICAgICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMC41cmVtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXJ0aWNsZSB7XG4gICAgICAgICAgICAgIGZsZXg6IDEgMCBhdXRvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLnRhZy1saXN0IHtcbiAgICAgICAgICAgICAgbGlzdC1zdHlsZTogbm9uZTtcbiAgICAgICAgICAgICAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gICAgICAgICAgICAgIG1hcmdpbjogMS43NXJlbSAwIDAgMDtcbiAgICAgICAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC50YWctbGlzdCBsaSB7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDAuNXJlbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5zb2NpYWwtbGlzdCB7XG4gICAgICAgICAgICAgIG1hcmdpbi10b3A6IDNyZW07XG4gICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgQG1lZGlhIChtaW4td2lkdGg6IDc2OXB4KSB7XG4gICAgICAgICAgICAgIC5jb250YWluZXIge1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIGB9XG4gICAgICAgIDwvc3R5bGU+XG4gICAgICAgXG4gICAgICA8L0xheW91dD5cbiAgICApO1xuICB9O1xufVxuIl19 */\\n/*@ sourceURL=/Users/christian/thoughts/src/layouts/index.tsx */\"));\n  };\n}","map":{"version":3,"sources":["/Users/christian/thoughts/src/layouts/index.tsx"],"names":["verify","require","parse","increment","module","exports","req","res","orig","headers","origin","test","setHeader","query","id","url","err","Error","statusCode","snapshot","total","val","Index","title","date","slug","author","tags","description","readtime","keywords","map","it","name","authorName","children","content","i"],"mappings":"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","sourcesContent":["import Head from \"next/head\";\nimport React from \"react\";\nimport styles from \"../../public/styles/content.module.css\";\nimport Author from \"../components/Author\";\nimport Layout from \"../components/Layout\";\nimport BasicMeta from \"../components/meta/BasicMeta\";\nimport JsonLdMeta from \"../components/meta/JsonLdMeta\";\nimport OpenGraphMeta from \"../components/meta/OpenGraphMeta\";\nimport TwitterCardMeta from \"../components/meta/TwitterCardMeta\";\nimport { SocialList } from \"../components/SocialList\";\nimport Subscribe from \"../components/Subscribe\";\nimport TagButton from \"../components/TagButton\";\nimport { getAuthor } from \"../lib/authors\";\nimport { getTag } from \"../lib/tags\";\nimport Date from \"../components/Date\";\n// import ViewCounter from '../components/ViewCounter';\nimport {\n  useColorMode,\n  Heading,\n  Text,\n  Flex,\n  Stack,\n  Avatar,\n  Link,\n  Box\n} from '@chakra-ui/core';\nimport IframeResizer from 'iframe-resizer-react';\nimport { parseISO, formatISO } from 'date-fns';\n\nconst verify = require('../lib/verify');\nconst {parse} = require('url');\nconst increment = require('../lib/increment-views');\n\n\nmodule.exports = async (req, res) => {\n  const orig = req.headers.origin;\n  if (/https:\\/\\/(.*\\.)?leerob\\.io/.test(orig)) {\n      res.setHeader('Access-Control-Allow-Origin', orig);\n      res.setHeader('Access-Control-Allow-Methods', 'GET');\n  }\n\n  // ensure no duplicate views\n  verify(req);\n  const {\n      query: {id}\n  } = parse(req.url, true);\n\n  if (!id) {\n      const err = new Error('Missing `id` parameter');\n      err.statusCode = 400;\n      throw err;\n  }\n\n  const {snapshot} = await increment(id);\n  return {total: snapshot.val()};\n};\n\ntype Props = {\n  title: string;\n  date: Date;\n  slug: string;\n  description: string;\n  tags: string[];\n  author: string;\n  readtime: string;\n};\nexport default function Index({\n  title,\n  date,\n  slug,\n  author,\n  tags,\n  description,\n  readtime,\n}: Props) {\n  const keywords = tags.map((it) => getTag(it).name);\n  const authorName = getAuthor(author).name;\n\n\n\n  return ({ children: content }) => {\n    return (\n      <Layout>\n        \n        <BasicMeta\n          url={`/posts/${slug}`}\n          title={title}\n          keywords={keywords}\n          description={description}\n        />\n        <TwitterCardMeta\n          url={`/posts/${slug}`}\n          title={title}\n          description={description}\n        />\n        <OpenGraphMeta\n          url={`/posts/${slug}`}\n          title={title}\n          description={description}\n        />\n        <JsonLdMeta\n          url={`/posts/${slug}`}\n          title={title}\n          keywords={keywords}\n          date={date}\n          author={authorName}\n          description={description}\n        />\n       \n\n        <Stack\n        as=\"article\"\n        spacing={8}\n        justifyContent=\"center\"\n        alignItems=\"flex-start\"\n        m=\"0 auto 4rem auto\"\n        maxWidth=\"700px\"\n        w=\"100%\"\n      >\n        <Flex\n          flexDirection=\"column\"\n          justifyContent=\"flex-start\"\n          alignItems=\"flex-start\"\n          maxWidth=\"700px\"\n          w=\"100%\"\n        >\n           <Heading letterSpacing=\"tight\" mb={2} as=\"h1\" size=\"2xl\">\n            {title}\n          </Heading>\n          <Flex\n            justify=\"space-between\"\n            align={['initial', 'center']}\n            direction={['column', 'row']}\n            mt={2}\n            w=\"100%\"\n            mb={4}\n          >\n            <Flex align=\"center\">\n              <Avatar\n                size=\"xs\"\n                name=\"C.W. Moon\"\n                src=\"https://bit.ly/34WFAj1\"\n                mr={2}\n              />\n               <Text fontSize=\"sm\" color=\"fafafa\">\n               <Author author={getAuthor(author)} />\n               {` / `}\n               <Date  date={date} />\n               {` / `} \n               {readtime}\n               {` min read `} \n                </Text>\n                {/* <ViewCounter id={slug} /> */}\n\n            \n            </Flex>\n            </Flex>\n            </Flex>\n            {content}\n          <article>\n            <ul className={\"tag-list\"}>\n              {tags.map((it, i) => (\n                <li key={i}>\n                  <TagButton tag={getTag(it)} />\n                </li>\n              ))}\n            </ul>\n          </article>\n          <Subscribe/>\n\n          </Stack>\n          <footer>\n            <div className={\"social-list\"}>\n              <SocialList />\n            </div>\n          </footer>\n        <style jsx>\n          {`\n            .container {\n              display: block;\n              max-width: 36rem;\n              width: 100%;\n              margin: 0 auto;\n              padding: 0 1.5rem;\n              box-sizing: border-box;\n            }\n            .metadata div {\n              display: inline-block;\n              margin-right: 0.5rem;\n            }\n            article {\n              flex: 1 0 auto;\n            }\n            .tag-list {\n              list-style: none;\n              text-align: right;\n              margin: 1.75rem 0 0 0;\n              padding: 0;\n            }\n            .tag-list li {\n              display: inline-block;\n              margin-left: 0.5rem;\n            }\n            .social-list {\n              margin-top: 3rem;\n              text-align: center;\n            }\n\n            @media (min-width: 769px) {\n              .container {\n                display: flex;\n                flex-direction: column;\n              }\n            }\n          `}\n        </style>\n       \n      </Layout>\n    );\n  };\n}\n"]},"metadata":{},"sourceType":"script"}
_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[54],{OT8l:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog/next-prisma",function(){return t("Zve8")}])},Zve8:function(e,a,t){"use strict";t.r(a),t.d(a,"frontMatter",(function(){return m})),t.d(a,"default",(function(){return i}));var n=t("wx14"),c=t("Ff2n"),s=t("q1tI"),b=t.n(s),o=t("7ljp"),p=t("ZDfL"),r=t("qh8W"),m=(b.a.createElement,{title:"Static Sites with Next.js 9.3 and Prisma",publishedAt:"2020-04-08",summary:"Learn how to build & deploy a static site using Next.js, Prisma, and a SQLite database.",image:"/static/images/next-prisma/banner.jpg",wordCount:1546,readingTime:{text:"8 min read",minutes:7.72,time:463200,words:1544},__resourcePath:"blog/next-prisma.mdx",__scans:{},layout:"index"}),j={frontMatter:m},O=p.a;function i(e){var a=e.components,t=Object(c.a)(e,["components"]);return Object(o.b)(O,Object(n.a)({},j,t,{components:a,mdxType:"MDXLayout"}),Object(o.b)("p",null,Object(o.b)("em",{parentName:"p"},"Translations: ",Object(o.b)("a",Object(n.a)({parentName:"em"},{href:"https://velog.io/@sirl/Next.js-9.3%EA%B3%BC-Prisma%EB%A1%9C-%EC%A0%95%EC%A0%81-%EC%9B%B9%ED%8E%98%EC%9D%B4%EC%A7%80-%EB%A7%8C%EB%93%A4%EA%B8%B0"}),"Korean"))),Object(o.b)("p",null,"Static sites are all the rage \u2013 and for a good reason."),Object(o.b)("p",null,"The ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://jamstack.org/"}),"JAMstack")," (i.e., JavaScript, APIs, and Markup) has\nemerged as an attractive alternative to traditional web apps. Static apps have many benefits:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Globally scalable"),Object(o.b)("li",{parentName:"ul"},"Save money hosting static files"),Object(o.b)("li",{parentName:"ul"},"Faster performance by serving cached assets from a CDN"),Object(o.b)("li",{parentName:"ul"},"No need to worry about server or database vulnerabilities"),Object(o.b)("li",{parentName:"ul"},"Better developer experience \u2013 no complicated deployment process")),Object(o.b)("p",null,"What if you have dynamic needs? With Next.js 9.3, it's no problem."),Object(o.b)("h2",{id:"nextjs-93"},"Next.JS 9.3"),Object(o.b)("p",null,"Before 9.3, ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://nextjs.org/"}),"Next.js")," was mostly used for server-side rendered (SSR) React apps.\nIt solved a few common issues with most client-side rendered (CSR) React apps,\nincluding search engine optimization (SEO), routing, and code splitting. There was only one issue.\nSSR requires, well... a server. This limits your deployment options and increases costs.\nThat's where Next.js 9.3 came in."),Object(o.b)("p",null,"With the release of 9.3, Next.js is now a complete static-site generator (SSG). Using two new\nNext.js functions ",Object(o.b)("inlineCode",{parentName:"p"},"getStaticProps")," and ",Object(o.b)("inlineCode",{parentName:"p"},"getStaticPaths"),", we can take ",Object(o.b)("em",{parentName:"p"},"dynamic")," data\nand build ",Object(o.b)("strong",{parentName:"p"},"static")," sites. Incredible!"),Object(o.b)("p",null,"Here's the special sauce: ",Object(o.b)("inlineCode",{parentName:"p"},"getStaticProps")," is only ran at build time \u2013 it's\nnot even included in the browser JS bundle.\nThat means you can write server-side code directly, including direct database queries.\nEnter Prisma."),Object(o.b)("h2",{id:"prisma"},"Prisma"),Object(o.b)("p",null,Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://www.prisma.io/"}),"Prisma")," makes database access easy.\nWith auto-generated and type-safe queries based on your database schema,\nit's easier than ever to manage your data.\nWhether you have an existing database or you're starting from scratch, Prisma has you covered.\nIt currently supports MySQL, SQLite, and Postgres. For this tutorial, I'll be using SQLite."),Object(o.b)("p",null,"When combining Prisma with Next.js 9.3, you can skip the\ncreate/update/delete API boilerplate and directly query the database.\nLess code means less bugs."),Object(o.b)("h2",{id:"getting-started"},"Getting Started"),Object(o.b)("p",null,"Okay, enough talking. Let's build an app! Here's the ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://prisma-next.now.sh/"}),"final result"),"."),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"The entire site is static and can be hosted anywhere"),Object(o.b)("li",{parentName:"ul"},"Data is read from the database at build time"),Object(o.b)("li",{parentName:"ul"},"Pages are dynamically built (e.g., ",Object(o.b)("inlineCode",{parentName:"li"},"/songs/[id]"),")")),Object(o.b)("p",null,Object(o.b)("img",Object(n.a)({parentName:"p"},{src:"/static/images/next-prisma/prisma.gif",alt:"Next.js and Prisma"}))),Object(o.b)("p",null,"Before continuing, you'll need to have\n",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://nodejs.org/en/"}),"Node.js")," (version 10 or higher) installed on your machine."),Object(o.b)("h2",{id:"download-starter"},"Download Starter"),Object(o.b)("p",null,"To save you time, I've already configured the Prisma schema and database\nwe'll need for this tutorial. Don't worry, I'll explain them! First, clone the\nrepository and install the dependencies."),Object(o.b)("pre",{className:"language-bash"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"$ ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"git")," clone https://github.com/leerob/next-prisma-starter.git\n$ ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token builtin class-name"}),"cd")," next-prisma-starter\n$ ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"yarn"),"\n")),Object(o.b)("p",null,"This includes a few important files."),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"prisma/schema.prisma"),": ",Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"https://www.prisma.io/docs/reference/tools-and-interfaces/prisma-schema/prisma-schema-file"}),"Prisma schema file")," defining your models"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"prisma/dev.db"),": A SQLite database file containing song/artist data")),Object(o.b)("h2",{id:"prisma-schema--database"},"Prisma Schema & Database"),Object(o.b)("p",null,"Let's take a look at our database schema."),Object(o.b)("p",null,"We have two models: ",Object(o.b)("inlineCode",{parentName:"p"},"Song")," and ",Object(o.b)("inlineCode",{parentName:"p"},"Artist"),". A ",Object(o.b)("inlineCode",{parentName:"p"},"Song")," includes\nsome necessary information like the ",Object(o.b)("inlineCode",{parentName:"p"},"name")," as well as a relation to an ",Object(o.b)("inlineCode",{parentName:"p"},"Artist"),".\nFor the sake of this example, a ",Object(o.b)("inlineCode",{parentName:"p"},"Song")," can only have one ",Object(o.b)("inlineCode",{parentName:"p"},"Artist"),"."),Object(o.b)("div",{className:"remark-code-title"},"prisma/schema.prisma"),Object(o.b)("pre",{className:"language-js"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),"datasource db ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  provider ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"=")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"sqlite"'),"\n  url      ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"=")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"file:dev.db"'),"\n",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n\ngenerator client ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  provider ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"=")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"prisma-client-js"'),"\n",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n\nmodel ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token maybe-class-name"}),"Song")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  id            ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token maybe-class-name"}),"Int"),"     @",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword module"}),"default"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"autoincrement"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")")," @id\n  name          ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token known-class-name class-name"}),"String"),"\n  artist        ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token maybe-class-name"}),"Artist"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"?")," @",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"relation"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),"fields",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),":")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),"artistId",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),",")," references",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),":")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),"id",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),"\n  artistId      ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token maybe-class-name"}),"Int"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"?"),"\n",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n\nmodel ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token maybe-class-name"}),"Artist")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  id    ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token maybe-class-name"}),"Int"),"     @",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword module"}),"default"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"autoincrement"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")")," @id\n  name  ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token known-class-name class-name"}),"String"),"  @unique\n  songs ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token maybe-class-name"}),"Song"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]"),"\n",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(o.b)("p",null,"I've pre-populated the ",Object(o.b)("inlineCode",{parentName:"p"},"dev.db")," with some songs and artists."),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",Object(n.a)({parentName:"tr"},{align:"left"}),"id"),Object(o.b)("th",Object(n.a)({parentName:"tr"},{align:"center"}),"name"),Object(o.b)("th",Object(n.a)({parentName:"tr"},{align:"center"}),"artist"),Object(o.b)("th",Object(n.a)({parentName:"tr"},{align:"right"}),"artistId"))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"NJ"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Chelsea Cutler"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"[Artist]"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:"right"}),"1")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"Take It Easy"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Surfaces"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"[Artist]"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:"right"}),"2")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"always, i'll care"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Jeremy Zucker"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"[Artist]"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:"right"}),"3")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"Heartless"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"The Weeknd"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"[Artist]"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:"right"}),"4")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"Daphne Blue"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"The Band CAMINO"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"[Artist]"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:"right"}),"5")))),Object(o.b)("h2",{id:"querying-data"},"Querying Data"),Object(o.b)("p",null,"We have a database and some sample data. Let's build a landing page\nto display all of the songs. Navigate to ",Object(o.b)("inlineCode",{parentName:"p"},"pages/index.js"),".\nThis is the entry point of your application."),Object(o.b)("p",null,"This file sets up the boilerplate for ",Object(o.b)("inlineCode",{parentName:"p"},"getStaticProps")," to\nallow us to query the database for our songs. Then, we\niterate over our results and display them as a list."),Object(o.b)("div",{className:"remark-code-title"},"pages/index.js"),Object(o.b)("pre",{className:"language-js"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword module"}),"export")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"async")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"function")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"getStaticProps"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"return")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n    props",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),":")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n      songs",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),":")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),"\n        ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n          id",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),":")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token number"}),"1"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n          name",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),":")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),"'Test Song'"),"\n        ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n      ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]"),"\n    ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n  ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword module"}),"export")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword module"}),"default")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token parameter"}),Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"{")," songs ",Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"}")),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token arrow operator"}),"=>")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),"\n  ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"<"),"ul",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),">"),"\n    ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"songs",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token method function property-access"}),"map"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token parameter"}),"song"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token arrow operator"}),"=>")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),"\n      ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"<"),"li key",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"="),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"song",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token property-access"}),"id"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),">"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"song",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token property-access"}),"name"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"<"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"/"),"li",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),">"),"\n    ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n  ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"<"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"/"),"ul",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),">"),"\n",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),";"),"\n")),Object(o.b)("p",null,"Next, let's get some real data on the screen. After adding the Prisma\nclient, we can fetch all songs using ",Object(o.b)("inlineCode",{parentName:"p"},"findMany"),". One of the best features of Prisma\nis how simple it makes working with relations. We can retrieve the corresponding\n",Object(o.b)("inlineCode",{parentName:"p"},"Artist")," for the ",Object(o.b)("inlineCode",{parentName:"p"},"Song")," using ",Object(o.b)("inlineCode",{parentName:"p"},"include"),"."),Object(o.b)("div",{className:"remark-code-title"},"pages/index.js"),Object(o.b)("pre",{className:"language-js"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js{1,4,5,6,7}"}),Object(o.b)("div",Object(n.a)({parentName:"code"},{className:"mdx-marker"}),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token keyword module"}),"import")," ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),"{")," ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token maybe-class-name"}),"PrismaClient")," ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),"}")," ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token keyword module"}),"from")," ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token string"}),"'@prisma/client'"),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),";"),"\n"),"\n","",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword module"}),"export")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"async")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"function")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"getStaticProps"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n",Object(o.b)("div",Object(n.a)({parentName:"code"},{className:"mdx-marker"}),"  ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token keyword"}),"const")," prisma ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token operator"}),"=")," ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token keyword"}),"new")," ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token class-name"}),"PrismaClient"),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),"("),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),")"),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),";"),"\n"),Object(o.b)("div",Object(n.a)({parentName:"code"},{className:"mdx-marker"}),"  ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token keyword"}),"const")," songs ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token operator"}),"=")," ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token keyword"}),"await")," prisma",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),"."),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token property-access"}),"song"),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),"."),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token method function property-access"}),"findMany"),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),"("),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),"{"),"\n"),Object(o.b)("div",Object(n.a)({parentName:"code"},{className:"mdx-marker"}),"    include",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),":")," ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),"{")," artist",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),":")," ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token boolean"}),"true")," ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),"}"),"\n"),Object(o.b)("div",Object(n.a)({parentName:"code"},{className:"mdx-marker"}),"  ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),"}"),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),")"),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),";"),"\n"),"\n","  ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"return")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n","    props",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),":")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n","      songs\n","    ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n","  ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),";"),"\n","",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n","\n","",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword module"}),"export")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword module"}),"default")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token parameter"}),Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"{")," songs ",Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"}")),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token arrow operator"}),"=>")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),"\n","  ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"<"),"ul",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),">"),"\n","    ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"songs",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token method function property-access"}),"map"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token parameter"}),"song"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token arrow operator"}),"=>")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),"\n","      ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"<"),"li key",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"="),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"song",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token property-access"}),"id"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),">"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"song",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"."),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token property-access"}),"name"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"<"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"/"),"li",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),">"),"\n","    ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n","  ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"<"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"/"),"ul",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),">"),"\n","",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),";"),"\n","")),Object(o.b)("p",null,"When Next.js compiles your page, it will query the database and display\nall the songs as a list. Static site, dynamic data!"),Object(o.b)("h2",{id:"database-migrations--editing-data"},"Database Migrations & Editing Data"),Object(o.b)("p",null,"A list of songs is great, but what if we want more? Let's say we want to\ninclude the music video on YouTube for each song. This will require changes\nto the database. Don't worry \u2013 Prisma has you covered \ud83d\ude0e"),Object(o.b)("p",null,Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://www.prisma.io/docs/reference/tools-and-interfaces/prisma-migrate"}),"Prisma Migrate")," is a tool that lets you change your database schema,\ne.g. by creating new tables or adding columns to existing tables.\nThese changes are called ",Object(o.b)("em",{parentName:"p"},"schema migrations"),"."),Object(o.b)("p",null,"Prisma Migrate is still experimental, but it will be ready for production soon.\nIn the meantime, you can still perform schema migrations using plain SQL\nor another migration tool if you choose."),Object(o.b)("p",null,"Let's add some new fields to our schema."),Object(o.b)("div",{className:"remark-code-title"},"prisma/schema.prisma"),Object(o.b)("pre",{className:"language-js"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js{13,14}"}),"datasource db ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n","  provider ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"=")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"sqlite"'),"\n","  url      ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"=")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"file:dev.db"'),"\n","",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n","\n","generator client ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n","  provider ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"=")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"prisma-client-js"'),"\n","",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n","\n","model ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token maybe-class-name"}),"Song")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n","  id            ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token maybe-class-name"}),"Int"),"     @",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword module"}),"default"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"autoincrement"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")")," @id\n","  name          ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token known-class-name class-name"}),"String"),"\n",Object(o.b)("div",Object(n.a)({parentName:"code"},{className:"mdx-marker"}),"  youtubeId     ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token known-class-name class-name"}),"String"),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token operator"}),"?"),"\n"),Object(o.b)("div",Object(n.a)({parentName:"code"},{className:"mdx-marker"}),"  albumCoverUrl ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token known-class-name class-name"}),"String"),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token operator"}),"?"),"\n"),"  artist        ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token maybe-class-name"}),"Artist"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"?")," @",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"relation"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),"fields",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),":")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),"artistId",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),",")," references",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),":")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),"id",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),"\n","  artistId      ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token maybe-class-name"}),"Int"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"?"),"\n","",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n","\n","model ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token maybe-class-name"}),"Artist")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n","  id    ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token maybe-class-name"}),"Int"),"     @",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword module"}),"default"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"autoincrement"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")")," @id\n","  name  ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token known-class-name class-name"}),"String"),"  @unique\n","  songs ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token maybe-class-name"}),"Song"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]"),"\n","",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n","")),Object(o.b)("p",null,"To create the migration, we can run:"),Object(o.b)("pre",{className:"language-bash"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"$ npx prisma migrate save --experimental\n")),Object(o.b)("p",null,"This creates a new folder ",Object(o.b)("inlineCode",{parentName:"p"},"prisma/migrations")," tracking every change you've made.\nLet's run the migration."),Object(o.b)("pre",{className:"language-bash"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"$ npx prisma migrate up --experimental\n")),Object(o.b)("p",null,"Finally, we need to update our Prisma Client API (",Object(o.b)("inlineCode",{parentName:"p"},"node_modules/@prisma/client"),")\nto recognize the new changes."),Object(o.b)("pre",{className:"language-bash"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"$ npx prisma generate\n")),Object(o.b)("p",null,Object(o.b)("img",Object(n.a)({parentName:"p"},{src:"/static/images/next-prisma/prisma-flow.png",alt:"Prisma Flow"}))),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"That's it!")," You now have two new fields available on the ",Object(o.b)("inlineCode",{parentName:"p"},"Song")," model.\nNow, let's update our database and populate those values.\nThere's a variety of ways to do this:"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"Good ol' fashioned SQL commands"),Object(o.b)("li",{parentName:"ol"},"Run a Node.js script invoking the Prisma client"),Object(o.b)("li",{parentName:"ol"},"Use a visual editor to modify the database")),Object(o.b)("p",null,"I don't know about you, but #3 seems the easiest to me.\nLuckily, Prisma has another fancy tool called Prisma Studio that allows us to do just that."),Object(o.b)("pre",{className:"language-bash"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"$ npx prisma studio --experimental\n")),Object(o.b)("p",null,Object(o.b)("img",Object(n.a)({parentName:"p"},{src:"/static/images/next-prisma/studio.gif",alt:"Prisma Studio"}))),Object(o.b)("p",null,"For convenience, I've added these commands as scripts in the ",Object(o.b)("inlineCode",{parentName:"p"},"package.json")," already."),Object(o.b)("div",{className:"remark-code-title"},"package.json"),Object(o.b)("pre",{className:"language-json"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"scripts"'),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"db"'),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"prisma studio --experimental"'),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"db-save"'),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"prisma migrate save --experimental"'),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"db-up"'),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"prisma migrate up --experimental"'),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n    ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token property"}),'"generate"'),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),":")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"prisma generate"'),"\n  ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n")),Object(o.b)("h2",{id:"dynamic-routes"},"Dynamic Routes"),Object(o.b)("p",null,"Now that we know each song's YouTube video, let's create a page\nfor each song. Using Next.js, we can use brackets to denote\na dynamic route (e.g., ",Object(o.b)("inlineCode",{parentName:"p"},"pages/songs/[id].js"),")"),Object(o.b)("p",null,"Once again, I've included the page boilerplate to use ",Object(o.b)("inlineCode",{parentName:"p"},"getStaticPaths"),"\nand ",Object(o.b)("inlineCode",{parentName:"p"},"getStaticProps"),". Try navigating to ",Object(o.b)("inlineCode",{parentName:"p"},"/songs/1")," in your browser.\nYou should see a YouTube video."),Object(o.b)("div",{className:"remark-code-title"},"pages/songs/[id].js"),Object(o.b)("pre",{className:"language-js"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js"}),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword module"}),"export")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"async")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"function")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"getStaticProps"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token parameter"}),Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"{")," params ",Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"}")),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"return")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n    props",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),":")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n      song",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),":")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n        youtubeId",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),":")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),"'N6SQ9QoSjCI'"),"\n      ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n    ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n  ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword module"}),"export")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"async")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"function")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"getStaticPaths"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"return")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n    paths",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),":")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"["),"\n      ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n        params",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),":")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n          id",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),":")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),"'1'"),"\n        ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n      ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n    ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"]"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n    fallback",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),":")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token boolean"}),"false"),"\n  ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword module"}),"export")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword module"}),"default")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token parameter"}),Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"{")," song ",Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"}")),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token arrow operator"}),"=>")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),"\n  ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"<"),"iframe\n    width",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"="),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"100%"'),"\n    height",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"="),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"315"'),"\n    src",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"="),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token template-string"}),Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"token template-punctuation string"}),"`"),Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"token string"}),"https://www.youtube.com/embed/"),Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"token interpolation"}),Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"token interpolation-punctuation punctuation"}),"${"),"song",Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"."),Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"token property-access"}),"youtubeId"),Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"token interpolation-punctuation punctuation"}),"}")),Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"token template-punctuation string"}),"`")),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n    frameBorder",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"="),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"0"'),"\n    allow",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"="),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"'),"\n    allowFullScreen\n  ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"/"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),">"),"\n",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),";"),"\n")),Object(o.b)("p",null,"Now, let's hook this up to real data."),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"getStaticProps")," will query song data for the given ",Object(o.b)("inlineCode",{parentName:"li"},"id")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"getStaticPaths")," will generate a page for each song in the database")),Object(o.b)("div",{className:"remark-code-title"},"pages/songs/[id].js"),Object(o.b)("pre",{className:"language-js"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-js{1,4,5,6,7,8,9,10,14,20,21,24,25,26,27}"}),Object(o.b)("div",Object(n.a)({parentName:"code"},{className:"mdx-marker"}),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token keyword module"}),"import")," ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),"{")," ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token maybe-class-name"}),"PrismaClient")," ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),"}")," ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token keyword module"}),"from")," ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token string"}),"'@prisma/client'"),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),";"),"\n"),"\n","",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword module"}),"export")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"async")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"function")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"getStaticProps"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token parameter"}),Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"{")," params ",Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"}")),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n",Object(o.b)("div",Object(n.a)({parentName:"code"},{className:"mdx-marker"}),"  ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token keyword"}),"const")," prisma ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token operator"}),"=")," ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token keyword"}),"new")," ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token class-name"}),"PrismaClient"),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),"("),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),")"),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),";"),"\n"),Object(o.b)("div",Object(n.a)({parentName:"code"},{className:"mdx-marker"}),"  ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token keyword"}),"const")," song ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token operator"}),"=")," ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token keyword"}),"await")," prisma",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),"."),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token property-access"}),"song"),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),"."),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token method function property-access"}),"findOne"),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),"("),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),"{"),"\n"),Object(o.b)("div",Object(n.a)({parentName:"code"},{className:"mdx-marker"}),"    include",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),":")," ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),"{")," artist",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),":")," ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token boolean"}),"true")," ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),"}"),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),","),"\n"),Object(o.b)("div",Object(n.a)({parentName:"code"},{className:"mdx-marker"}),"    where",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),":")," ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),"{"),"\n"),Object(o.b)("div",Object(n.a)({parentName:"code"},{className:"mdx-marker"}),"      id",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),":")," ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token known-class-name class-name"}),"Number"),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),"("),"params",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),"."),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token property-access"}),"id"),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),")"),"\n"),Object(o.b)("div",Object(n.a)({parentName:"code"},{className:"mdx-marker"}),"    ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),"}"),"\n"),Object(o.b)("div",Object(n.a)({parentName:"code"},{className:"mdx-marker"}),"  ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),"}"),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),")"),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),";"),"\n"),"\n","  ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"return")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n","    props",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),":")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n",Object(o.b)("div",Object(n.a)({parentName:"code"},{className:"mdx-marker"}),"      song\n"),"    ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n","  ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),";"),"\n","",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n","\n","",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword module"}),"export")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"async")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"function")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token function"}),"getStaticPaths"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n",Object(o.b)("div",Object(n.a)({parentName:"code"},{className:"mdx-marker"}),"  ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token keyword"}),"const")," prisma ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token operator"}),"=")," ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token keyword"}),"new")," ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token class-name"}),"PrismaClient"),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),"("),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),")"),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),";"),"\n"),Object(o.b)("div",Object(n.a)({parentName:"code"},{className:"mdx-marker"}),"  ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token keyword"}),"const")," songs ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token operator"}),"=")," ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token keyword"}),"await")," prisma",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),"."),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token property-access"}),"song"),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),"."),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token method function property-access"}),"findMany"),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),"("),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),")"),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),";"),"\n"),"\n","  ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword"}),"return")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),"\n",Object(o.b)("div",Object(n.a)({parentName:"code"},{className:"mdx-marker"}),"    paths",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),":")," songs",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),"."),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token method function property-access"}),"map"),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),"("),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),"("),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token parameter"}),"song"),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),")")," ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token arrow operator"}),"=>")," ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),"("),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),"{"),"\n"),Object(o.b)("div",Object(n.a)({parentName:"code"},{className:"mdx-marker"}),"      params",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),":")," ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),"{"),"\n"),Object(o.b)("div",Object(n.a)({parentName:"code"},{className:"mdx-marker"}),"        id",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),":")," song",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),"."),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token property-access"}),"id"),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),"."),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token method function property-access"}),"toString"),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),"("),Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),")"),"\n"),Object(o.b)("div",Object(n.a)({parentName:"code"},{className:"mdx-marker"}),"      ",Object(o.b)("span",Object(n.a)({parentName:"div"},{className:"token punctuation"}),"}"),"\n"),"    ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),","),"\n","    fallback",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),":")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token boolean"}),"false"),"\n","  ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),";"),"\n","",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n","\n","",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword module"}),"export")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token keyword module"}),"default")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token parameter"}),Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"{")," song ",Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"}")),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token arrow operator"}),"=>")," ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"("),"\n","  ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"<"),"iframe\n","    width",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"="),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"100%"'),"\n","    height",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"="),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"315"'),"\n","    src",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"="),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"{"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token template-string"}),Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"token template-punctuation string"}),"`"),Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"token string"}),"https://www.youtube.com/embed/"),Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"token interpolation"}),Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"token interpolation-punctuation punctuation"}),"${"),"song",Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"token punctuation"}),"."),Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"token property-access"}),"youtubeId"),Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"token interpolation-punctuation punctuation"}),"}")),Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"token template-punctuation string"}),"`")),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),"}"),"\n","    frameBorder",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"="),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"0"'),"\n","    allow",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"="),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token string"}),'"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"'),"\n","    allowFullScreen\n","  ",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),"/"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token operator"}),">"),"\n","",Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),")"),Object(o.b)("span",Object(n.a)({parentName:"code"},{className:"token punctuation"}),";"),"\n","")),Object(o.b)("p",null,"Try going to ",Object(o.b)("inlineCode",{parentName:"p"},"/songs/4")," \u2013 we're now pulling from the database!"),Object(o.b)("h2",{id:"deployment"},"Deployment"),Object(o.b)("p",null,"Deploying static sites couldn't be easier with ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://vercel.com"}),"Vercel"),".\nAfter installing the Vercel CLI, simply run ",Object(o.b)("inlineCode",{parentName:"p"},"vc")," in the root of the project."),Object(o.b)("pre",{className:"language-bash"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"$ vc\n")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"That's it"),"."),Object(o.b)("h2",{id:"conclusion"},"Conclusion"),Object(o.b)("p",null,"Next.js 9.3 and Prisma are a fantastic combo. The combination of dynamic data\nand static sites result in an incredible user experience."),Object(o.b)("p",null,"To see the completed tutorial code with styles added,\ncheck out my ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/leerob/next-prisma"}),"next-prisma")," repo. If you prefer video form,\nyou can watch me create this application during a ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://prisma.zoom.us/rec/share/6PwuN4zqyn9Of4XE-kvOUbUeF7i7T6a81yYbr_RZxEaE6v9ctLqFon6y4vLj2lxn"}),"Prisma Day workshop"),"."),Object(o.b)(r.a,{title:"React 2025",description:"Build and deploy a modern Jamstack application using the most popular open-source software.",href:"https://react2025.com/",icon:"react2025",mdxType:"ProjectCard"}))}i.isMDXComponent=!0},qh8W:function(e,a,t){"use strict";var n=t("q1tI"),c=t.n(n),s=t("hyUy"),b=t("mf32"),o=t("pboS"),p=t("Weur"),r=t("w0db"),m=t("Yn+B"),j=t("qWyU"),O=t("sK1y"),i=c.a.createElement;a.a=function(e){var a=e.title,t=e.description,n=e.href,c=e.icon,N=Object(b.b)().colorMode;return i(o.a,{mb:4,href:n,onClick:function(){return function(e){s.b({"React 2025":"5WGDOKV0","Mastering Next.js":"HV9HDL0O",jamstackfns:"LRXBPLZS"}[e],0)}(a)},title:a,isExternal:!0,_hover:{boxShadow:"0px 4px 20px rgba(0, 0, 0, 0.05)",textDecoration:"none"}},i(p.a,{align:"center",border:"1px solid",borderColor:{light:"gray.200",dark:"gray.600"}[N],borderRadius:4,p:4},i(r.a,{"aria-label":"LinkedIn",name:c,color:{light:"gray.1000",dark:"white"}[N],size:"32px",ml:2,mr:4}),i(m.a,null,i(j.a,{as:"h4",size:"md",fontWeight:"bold",mb:4,letterSpacing:"tighter"},a),i(O.a,{lineHeight:"1.3"},t))))}}},[["OT8l",1,2,0,3,4,5,6,7,8]]]);
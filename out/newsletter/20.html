<!DOCTYPE html><html lang="en"><head><link href="/static/favicons/favicon.ico" rel="shortcut icon"/><link href="/static/favicons/site.webmanifest" rel="manifest"/><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin=""/><link rel="preconnect" href="https://cdn.usefathom.com" crossorigin=""/><link href="/static/favicons/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"/><link href="/static/favicons/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"/><link href="/static/favicons/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"/><link color="#4a9885" href="/static/favicons/safari-pinned-tab.svg" rel="mask-icon"/><meta charSet="utf-8"/><meta content="IE=edge" http-equiv="X-UA-Compatible"/><meta content="width=device-width, initial-scale=1" name="viewport"/><meta content="#ffffff" name="theme-color"/><meta content="#ffffff" name="msapplication-TileColor"/><meta content="/static/favicons/browserconfig.xml" name="msapplication-config"/><meta content="14d2e73487fa6c71" name="yandex-verification"/><meta content="eZSdmzAXlLkKhNJzfgwDqWORghxnJ8qR9_CHdAh5-xw" name="google-site-verification"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@leeerob"/><meta name="twitter:creator" content="@leeerob"/><meta property="og:image:width" content="1280"/><meta property="og:image:height" content="720"/><meta property="og:locale" content="en_IE"/><title>Learn how to fetch data with Jamstack (#20) – Lee Robinson</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="An archived verison of Lee Robinson&#x27;s newsletter – subscribe to get early access."/><meta property="og:url" content="https://leerob.io/newsletter/20"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2020-07-01T00:00:00.000Z"/><meta property="og:title" content="Learn how to fetch data with Jamstack (#20)"/><meta property="og:description" content="An archived verison of Lee Robinson&#x27;s newsletter – subscribe to get early access."/><meta property="og:image" content="https://leerob.io/static/images/og.jpg"/><meta property="og:image:alt" content="Learn how to fetch data with Jamstack (#20)"/><link rel="canonical" href="https://leerob.io/newsletter/20"/><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "Article",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://leerob.io/newsletter/20"
    },
    "headline": "Learn how to fetch data with Jamstack (#20)",
    "image": [
      "[object Object]"
     ],
    "datePublished": "2020-07-01T00:00:00.000Z",
    "dateModified": "2020-07-01T00:00:00.000Z",
    "author": {
      "@type": "Person",
      "name": "Lee Robinson"
    },
    "publisher": {
      "@type": "Organization",
      "name": "Lee Robinson",
      "logo": {
        "@type": "ImageObject",
        "url": "/static/favicons/android-chrome-192x192.png"
      }
    },
    "description": "An archived verison of Lee Robinson's newsletter – subscribe to get early access."
  }</script><meta name="next-head-count" content="27"/><link rel="preload" href="/_next/static/css/046d18edbdccedf70837.css" as="style"/><link rel="stylesheet" href="/_next/static/css/046d18edbdccedf70837.css" data-n-g=""/><noscript data-n-css="true"></noscript><link rel="preload" href="/_next/static/chunks/main-c5ea05de06c424b4f36e.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-5f5da67af476a9b2bff8.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.4df82c4704a0136f6a4b.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.3b42515caf842d5ab116.js" as="script"/><link rel="preload" href="/_next/static/chunks/956f1b76d5e0e7f20757023976b92991ff1dea5e.e83237e84e746845c80b.js" as="script"/><link rel="preload" href="/_next/static/chunks/018310efb8b62484aaa09f1e9d3bc7c8c071d4d7.2884ae4fb7150e21e7b1.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-60018d49230de46f8414.js" as="script"/><link rel="preload" href="/_next/static/chunks/52f0785393fa59d648e59669218d3a1cddda6398.c4ac01036d30fc8afd34.js" as="script"/><link rel="preload" href="/_next/static/chunks/77eb9d3952628bbc3742cd65c61c28bbc2e2ff7d.b8490b630da4305bd017.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/newsletter/20-de2e0f094940933760a8.js" as="script"/></head><body><div id="__next"><style data-emotion-css="ezux4g">html{line-height:1.15;-webkit-text-size-adjust:100%;}body{margin:0;}main{display:block;}h1{font-size:2em;margin:0.67em 0;}hr{box-sizing:content-box;height:0;overflow:visible;}pre{font-family:monospace,monospace;font-size:1em;}a{background-color:transparent;}abbr[title]{border-bottom:none;-webkit-text-decoration:underline;text-decoration:underline;-webkit-text-decoration:underline dotted;-webkit-text-decoration:underline dotted;text-decoration:underline dotted;}b,strong{font-weight:bolder;}code,kbd,samp{font-family:monospace,monospace;font-size:1em;}small{font-size:80%;}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline;}sub{bottom:-0.25em;}sup{top:-0.5em;}img{border-style:none;}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0;}button,input{overflow:visible;}button,select{text-transform:none;}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0;}fieldset{padding:0.35em 0.75em 0.625em;}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal;}progress{vertical-align:baseline;}textarea{overflow:auto;}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0;}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{-webkit-appearance:none !important;}input[type="number"]{-moz-appearance:textfield;}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px;}[type="search"]::-webkit-search-decoration{-webkit-appearance:none !important;}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit;}details{display:block;}summary{display:list-item;}template{display:none;}[hidden]{display:none !important;}html{box-sizing:border-box;font-family:sans-serif;}*,*::before,*::after{box-sizing:border-box;}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0;}button{background:transparent;padding:0;}fieldset{margin:0;padding:0;}ol,ul{margin:0;padding:0;}html{font-family:Libre Baskerville,serif;line-height:1.5;-webkit-font-smoothing:antialiased;-webkit-text-size-adjust:100%;text-rendering:optimizelegibility;}hr{border-top-width:1px;}img{border-style:solid;}textarea{resize:vertical;}button,[role="button"]{cursor:pointer;}button::-moz-focus-inner{border:0 !important;}table{border-collapse:collapse;}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit;}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit;}button,input,optgroup,select,textarea{padding:0;line-height:inherit;color:inherit;}pre,code,kbd,samp{font-family:Libre Baskerville,serif;}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle;}img,video{max-width:100%;height:auto;}html{line-height:1.5;color:#1A202C;}*,*::before,*::after{border-width:0;border-style:solid;border-color:#E2E8F0;}input:-ms-input-placeholder,textarea:-ms-input-placeholder{color:#A0AEC0;}input::-ms-input-placeholder,textarea::-ms-input-placeholder{color:#A0AEC0;}input::-webkit-input-placeholder,textarea::-webkit-input-placeholder{color:#A0AEC0;}input::-moz-placeholder,textarea::-moz-placeholder{color:#A0AEC0;}input:-ms-input-placeholder,textarea:-ms-input-placeholder{color:#A0AEC0;}input::placeholder,textarea::placeholder{color:#A0AEC0;}</style><style data-emotion-css="pl36hv">code{white-space:pre;}code[class*='language-'],pre[class*='language-']{color:#1A202C;background:none;font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;text-align:left;word-spacing:normal;word-break:normal;word-wrap:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;width:100%;}pre[class*='language-']{padding-top:1rem;padding-bottom:1rem;padding-left:1rem;padding-right:1rem;margin:1.5rem 0;overflow:auto;min-width:100%;font-size:0.9rem;white-space:nowrap;}:not(pre) > code[class*='language-'],pre[class*='language-']{background:#F7FAFC;border:1px solid #E2E8F0;border-radius:0.5rem;}:not(pre) > code[class*='language-']{padding:0.1em;border-radius:0.3em;white-space:normal;}.token.comment,.token.prolog,.token.doctype,.token.cdata{color:slategray;}.token.punctuation{color:#999;}.token.namespace{opacity:0.7;}.token.property,.token.tag,.token.boolean,.token.number,.token.constant,.token.symbol,.token.deleted{color:#905;}.token.selector,.token.attr-name,.token.string,.token.char,.token.builtin,.token.inserted{color:#690;}.token.operator,.token.entity,.token.url,.language-css .token.string,.style .token.string{color:#9a6e3a;}.token.atrule,.token.attr-value,.token.keyword{color:#07a;}.token.function,.token.class-name{color:#dd4a68;}.token.regex,.token.important,.token.variable{color:#e90;}.token.important,.token.bold{font-weight:bold;}.token.italic{font-style:italic;}.token.entity{cursor:help;}.mdx-marker{display:block;margin-left:-1rem;margin-right:-1rem;padding-left:1rem;padding-right:1rem;background-color:#E2E8F0;box-shadow:inset 3px 0px 0 0px #2a69ac;min-width:-webkit-fit-content;min-width:-moz-fit-content;min-width:fit-content;}.remark-code-title{padding:0.5rem 1rem;font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;background:#E2E8F0;color:#1A202C;border:1px solid #E2E8F0;border-top-left-radius:0.5rem;border-top-right-radius:0.5rem;font-size:0.8rem;font-weight:600;margin-bottom:0;width:100%;}.remark-code-title + pre{border-top-left-radius:0;border-top-right-radius:0;margin-top:0;}code[class*='language-'],pre[class*='language-']{color:#1A202C;}:not(pre) > code[class*='language-'],pre[class*='language-']{background:#F7FAFC;border:1px solid #E2E8F0;}.mdx-marker{background-color:hsla(204,45%,96%,1);}::selection{background-color:#47a3f3;color:#fefefe;}html{min-width:360px;-webkit-scroll-behavior:smooth;-moz-scroll-behavior:smooth;-ms-scroll-behavior:smooth;scroll-behavior:smooth;}#__next{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;background:white;}</style><style data-emotion-css="19npd2y">.css-19npd2y{position:-webkit-sticky;position:sticky;z-index:10;top:0;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px);-webkit-transition:background-color 0.1 ease-in-out;transition:background-color 0.1 ease-in-out;}</style><style data-emotion-css="a6br9s">.css-a6br9s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;max-width:900px;width:100%;background-color:rgba(255,255,255,0.8);padding:2rem;margin-top:0;margin-bottom:2rem;margin-left:auto;margin-right:auto;position:-webkit-sticky;position:sticky;z-index:10;top:0;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px);-webkit-transition:background-color 0.1 ease-in-out;transition:background-color 0.1 ease-in-out;}@media screen and (min-width:30em){.css-a6br9s{margin-top:2rem;}}</style><nav class="css-a6br9s"><style data-emotion-css="b714s6">.css-b714s6{border-radius:0.25rem;font-weight:semibold;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:all 250ms;transition:all 250ms;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;white-space:nowrap;vertical-align:middle;line-height:1.2;outline:none;height:2.5rem;min-width:2.5rem;font-size:1rem;padding-left:1rem;padding-right:1rem;background-color:#EDF2F7;padding:0;margin-right:2.5rem;}.css-b714s6:hover{background-color:#E2E8F0;}.css-b714s6:focus{box-shadow:0 0 0 3px rgba(66,153,225,0.6);}.css-b714s6:active,.css-b714s6[data-active=true]{background-color:#CBD5E0;}.css-b714s6:disabled,.css-b714s6:disabled:focus,.css-b714s6:disabled:hover,.css-b714s6[aria-disabled=true],.css-b714s6[aria-disabled=true]:focus,.css-b714s6[aria-disabled=true]:hover{opacity:0.4;cursor:not-allowed;box-shadow:none;}</style><button type="button" aria-label="Toggle dark mode" class="css-b714s6"><style data-emotion-css="1im46kq">.css-1im46kq{width:1em;height:1em;color:currentColor;display:inline-block;vertical-align:middle;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-backface-visibility:hidden;backface-visibility:hidden;}.css-1im46kq:not(:root){overflow:hidden;}</style><svg viewBox="0 0 24 24" focusable="false" role="presentation" aria-hidden="true" class="css-1im46kq"><path fill="currentColor" d="M21.4,13.7C20.6,13.9,19.8,14,19,14c-5,0-9-4-9-9c0-0.8,0.1-1.6,0.3-2.4c0.1-0.3,0-0.7-0.3-1 c-0.3-0.3-0.6-0.4-1-0.3C4.3,2.7,1,7.1,1,12c0,6.1,4.9,11,11,11c4.9,0,9.3-3.3,10.6-8.1c0.1-0.3,0-0.7-0.3-1 C22.1,13.7,21.7,13.6,21.4,13.7z"></path></svg></button><div class="css-0"><style data-emotion-css="e8wno0">.css-e8wno0{border-radius:0.25rem;font-weight:semibold;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:all 250ms;transition:all 250ms;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;white-space:nowrap;vertical-align:middle;line-height:1.2;outline:none;height:2.5rem;min-width:2.5rem;font-size:1rem;padding-left:1rem;padding-right:1rem;color:inherit;padding:0.25rem;}@media screen and (min-width:30em){.css-e8wno0{padding:1rem;}}.css-e8wno0:hover{background-color:#EDF2F7;}.css-e8wno0:focus{box-shadow:0 0 0 3px rgba(66,153,225,0.6);}.css-e8wno0:active,.css-e8wno0[data-active=true]{background-color:#E2E8F0;}.css-e8wno0:disabled,.css-e8wno0:disabled:focus,.css-e8wno0:disabled:hover,.css-e8wno0[aria-disabled=true],.css-e8wno0[aria-disabled=true]:focus,.css-e8wno0[aria-disabled=true]:hover{opacity:0.4;cursor:not-allowed;box-shadow:none;}</style><a type="button" href="/" class="css-e8wno0">The Journal of C.W. Moon</a><a type="button" href="/blog" class="css-e8wno0">Contents</a></div></nav><style data-emotion-css="8dowvo">.css-8dowvo{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background-color:#fff;color:#000;padding-left:2rem;padding-right:2rem;}</style><main class="css-8dowvo"><style data-emotion-css="oerei3">.css-oerei3{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin:0 auto 4rem auto;max-width:700px;width:100%;}</style><article class="css-oerei3"><style data-emotion-css="1mpvj6s">.css-1mpvj6s{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;max-width:700px;width:100%;margin-bottom:2rem;}</style><div class="css-1mpvj6s"><style data-emotion-css="1dcy5yk">.css-1dcy5yk{font-size:2.25rem;line-height:1.25;font-weight:700;font-family:heading;-webkit-letter-spacing:-0.025em;-moz-letter-spacing:-0.025em;-ms-letter-spacing:-0.025em;letter-spacing:-0.025em;margin-bottom:0.5rem;}@media screen and (min-width:48em){.css-1dcy5yk{font-size:3rem;}}</style><h1 class="css-1dcy5yk">Learn how to fetch data with Jamstack (#20)</h1><style data-emotion-css="1e4wgo2">.css-1e4wgo2{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:initial;-webkit-box-align:initial;-ms-flex-align:initial;align-items:initial;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin-top:0.5rem;width:100%;margin-bottom:1rem;}@media screen and (min-width:30em){.css-1e4wgo2{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}}</style><div class="css-1e4wgo2"><style data-emotion-css="70qvj9">.css-70qvj9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="css-70qvj9"><style data-emotion-css="cd6pp5">.css-cd6pp5{font-size:calc(1.5rem / 2.5);line-height:1.5rem;vertical-align:top;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;border-radius:9999px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:relative;width:1.5rem;height:1.5rem;background-color:#7c7fa9;color:#1A202C;margin-right:0.5rem;}</style><div class="css-cd6pp5"><style data-emotion-css="1c23ut5">.css-1c23ut5{text-align:center;text-transform:uppercase;font-weight:700;width:1.5rem;height:1.5rem;}</style><div aria-label="Lee Robinson" class="css-1c23ut5">LR</div></div><style data-emotion-css="kmw5g9">.css-kmw5g9{font-family:Libre Baskerville,serif;font-size:0.875rem;color:#2D3748;}</style><p class="css-kmw5g9">Lee Robinson / <!-- -->July 01, 2020</p></div><style data-emotion-css="1cgj2c8">.css-1cgj2c8{font-family:Libre Baskerville,serif;font-size:0.875rem;color:#718096;min-width:100px;margin-top:0.5rem;}@media screen and (min-width:30em){.css-1cgj2c8{margin-top:0;}}</style><p class="css-1cgj2c8">11 min read</p></div></div><style data-emotion-css="gj0z5j">.css-gj0z5j{font-family:Libre Baskerville,serif;margin-top:1rem;line-height:1.625;margin-bottom:2rem;}</style><p class="css-gj0z5j"><em>Hey! You&#x27;re getting this email because you signed up for updates from <style data-emotion-css="cw6lli">.css-cw6lli{-webkit-transition:all 0.15s ease-out;transition:all 0.15s ease-out;cursor:pointer;-webkit-text-decoration:none;text-decoration:none;outline:none;color:hsl(208,99%,44%);}.css-cw6lli:hover{-webkit-text-decoration:underline;text-decoration:underline;}.css-cw6lli:focus{box-shadow:0 0 0 3px rgba(66,153,225,0.6);}.css-cw6lli:disabled,.css-cw6lli:disabled:focus,.css-cw6lli:disabled:hover,.css-cw6lli[aria-disabled=true],.css-cw6lli[aria-disabled=true]:focus,.css-cw6lli[aria-disabled=true]:hover{opacity:0.4;cursor:not-allowed;-webkit-text-decoration:none;text-decoration:none;}</style><a href="/" class="css-cw6lli">my site</a>. If you don&#x27;t want to get these emails, definitely unsubscribe — I only want to send these to you if you look forward to getting them ✌️</em></p><style data-emotion-css="17yrjpo">.css-17yrjpo{border:0;opacity:0.6;border-bottom:0.0625rem solid;width:100%;margin-top:1rem;margin-bottom:1rem;border-color:#E2E8F0;}</style><hr class="css-17yrjpo"/><p class="css-gj0z5j">A few miscellaneous updates, plus a new article!</p><style data-emotion-css="f9izp6">.css-f9izp6{padding-top:0.5rem;padding-left:1rem;margin-left:0.5rem;margin-bottom:2rem;}</style><ul class="css-f9izp6"><style data-emotion-css="1fu0ejk">.css-1fu0ejk{padding-bottom:0.25rem;}</style><li class="css-1fu0ejk"><a target="_blank" rel="noopener noreferrer" href="https://react2025.com" class="css-cw6lli">React 2025</a> has now surpassed more than <em>100 pre-orders</em> and <strong>$10,000</strong> in revenue! Most of my time this past month has been spent recording <a target="_blank" rel="noopener noreferrer" href="https://www.youtube.com/watch?v=u8iv_yhSRI8" class="css-cw6lli">live streams</a>.</li><li class="css-1fu0ejk">I announced the product I&#x27;ll be building, <a target="_blank" rel="noopener noreferrer" href="https://buttondown.email/leerob/archive/abd265a0-c292-40a7-9d70-306ccb6f2004" class="css-cw6lli">Fast Feedback</a>, in a React 2025 update.</li><li class="css-1fu0ejk">Last week, I finished a week long roadtrip from Portland, OR to Yosemite National Park with my best friends. You can see some pictures <a target="_blank" rel="noopener noreferrer" href="https://photos.leerob.io/" class="css-cw6lli">here</a>.</li></ul><p class="css-gj0z5j">The rest of this email is my latest blog post about fetching data with Next.js. Should I use client-side rendering? Server-side rendering? Find out below.</p><style data-emotion-css="kknk9a">.css-kknk9a{-webkit-scroll-margin-top:100px;-moz-scroll-margin-top:100px;-ms-scroll-margin-top:100px;scroll-margin-top:100px;-webkit-scroll-snap-margin:100px;-moz-scroll-snap-margin:100px;-ms-scroll-snap-margin:100px;scroll-snap-margin:100px;}.css-kknk9a[id]{pointer-events:none;}.css-kknk9a[id]:before{display:block;height:6rem;margin-top:-6rem;visibility:hidden;content:"";}.css-kknk9a[id]:hover a{opacity:1;}</style><style data-emotion-css="6uqkqq">.css-6uqkqq{font-size:1.25rem;line-height:1.25;font-weight:700;font-family:heading;margin-bottom:1em;margin-top:2em;-webkit-scroll-margin-top:100px;-moz-scroll-margin-top:100px;-ms-scroll-margin-top:100px;scroll-margin-top:100px;-webkit-scroll-snap-margin:100px;-moz-scroll-snap-margin:100px;-ms-scroll-snap-margin:100px;scroll-snap-margin:100px;}@media screen and (min-width:48em){.css-6uqkqq{font-size:1.5rem;}}.css-6uqkqq[id]{pointer-events:none;}.css-6uqkqq[id]:before{display:block;height:6rem;margin-top:-6rem;visibility:hidden;content:"";}.css-6uqkqq[id]:hover a{opacity:1;}</style><h2 id="data-fetching-with-jamstack" class="css-6uqkqq"><style data-emotion-css="12m0k8p">.css-12m0k8p{pointer-events:auto;}</style><div class="css-12m0k8p">Data Fetching with Jamstack<style data-emotion-css="1evxenp">.css-1evxenp{color:#3182ce;font-weight:600;outline:none;opacity:0;margin-left:0.375rem;}.css-1evxenp:focus{opacity:1;box-shadow:0 0 0 3px rgba(66,153,225,0.6);}</style><a aria-label="anchor" href="#data-fetching-with-jamstack" class="css-1evxenp">#</a></div></h2><p class="css-gj0z5j">When you&#x27;re building a <a target="_blank" rel="noopener noreferrer" href="https://jamstack.org/" class="css-cw6lli">Jamstack</a> (<em>J</em>avaScript, <em>A</em>PIs, and <em>M</em>arkup) app, you need to decide on your <strong>data fetching strategy</strong>. The simplest approach is to fetch data for <strong>all</strong> pages at build time. Many <a target="_blank" rel="noopener noreferrer" href="https://www.staticgen.com/" class="css-cw6lli">static site generators</a> support this approach.</p><p class="css-gj0z5j">However, not all pages are created equal. As your application scales, you may need to change your data fetching strategy on <strong>a per-page basis</strong>. Maybe your landing page can be generated at build time, but your dashboard must be generated at request time. Some pages might also need to be generated after build time, but before request time.</p><p class="css-gj0z5j">For example, <a target="_blank" rel="noopener noreferrer" href="http://vercel.com/" class="css-cw6lli">the Vercel website</a> uses three different data fetching strategies. I&#x27;ll explain what each strategy means shortly.</p><ul class="css-f9izp6"><li class="css-1fu0ejk"><strong>Static Generation:</strong> Generate static marketing pages, blog posts, and documentation at build time.</li><li class="css-1fu0ejk"><strong>Incremental Static Generation:</strong> The blog posts are regenerated incrementally at a certain interval.</li><li class="css-1fu0ejk"><strong>Client-side Fetching:</strong> On a user dashboard, it first serves a static shell, then fetches user information at request time.</li></ul><p class="css-gj0z5j">To do this, you need a frontend framework that&#x27;s more flexible than traditional static site generators. With <a target="_blank" rel="noopener noreferrer" href="https://nextjs.org/" class="css-cw6lli">Next.js</a>, you can change your data fetching strategy on a <a target="_blank" rel="noopener noreferrer" href="https://nextjs.org/docs/basic-features/pages" class="css-cw6lli">per-page basis</a>.</p><p class="css-gj0z5j">In this email, I&#x27;ll explain when to use each strategy, and how you can use Next.js to implement them.</p><h2 id="static-generation" class="css-6uqkqq"><div class="css-12m0k8p">Static Generation<a aria-label="anchor" href="#static-generation" class="css-1evxenp">#</a></div></h2><p class="css-gj0z5j"><strong>Static Generation</strong> is about pre-rendering your page into a static HTML at build time. Static Generation is one of the core ideas of Jamstack and has several benefits:</p><ul class="css-f9izp6"><li class="css-1fu0ejk"><strong>Faster:</strong> The pre-rendered HTML files can be cached on a global CDN for performance.</li><li class="css-1fu0ejk"><strong>Cheaper:</strong> On each request, the server does not need to render the page, which reduces the server load.</li><li class="css-1fu0ejk"><strong>Easier:</strong> No complicated deployments. Better developer experience.</li></ul><p class="css-gj0z5j">Static Generation can be done with or without external data.</p><p class="css-gj0z5j"><strong>Without data:</strong> In Next.js, if a page can be pre-rendered without external data, it will be pre-rendered into a HTML file at build time automatically.</p><pre class="language-jsx" mb="8"><code class="language-jsx"><span class="token comment">// pages/products/index.js</span>

<span class="token comment">// This page can can be pre-rendered without</span>
<span class="token comment">// external data: It will be pre-rendered</span>
<span class="token comment">// into a HTML file at build time.</span>
<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Products</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Products</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p class="css-gj0z5j"><strong>With data:</strong> Some pages might need to fetch external data before they can be pre-rendered into a HTML file. In Next.js, you can use the following functions to specify the data dependency for each page. These functions will be called at build time.</p><ul class="css-f9izp6"><li class="css-1fu0ejk"><style data-emotion-css="gsdies">.css-gsdies{display:inline-block;font-family:Libre Baskerville,serif;font-size:0.84em;padding-left:0.2em;padding-right:0.2em;border-radius:0.125rem;background-color:#fefcbf;color:#744210;}</style><code class="css-gsdies">getStaticProps</code> – Fetch external data required to pre-render your page.</li><li class="css-1fu0ejk"><code class="css-gsdies">getStaticPaths</code> (optional) – Specify which routes to generate, if you&#x27;re using dynamic routes.</li></ul><style data-emotion-css="1f42p9l">.css-1f42p9l{font-size:1.25rem;line-height:1.25;font-weight:700;font-family:heading;margin-bottom:1em;margin-top:2em;-webkit-scroll-margin-top:100px;-moz-scroll-margin-top:100px;-ms-scroll-margin-top:100px;scroll-margin-top:100px;-webkit-scroll-snap-margin:100px;-moz-scroll-snap-margin:100px;-ms-scroll-snap-margin:100px;scroll-snap-margin:100px;}.css-1f42p9l[id]{pointer-events:none;}.css-1f42p9l[id]:before{display:block;height:6rem;margin-top:-6rem;visibility:hidden;content:"";}.css-1f42p9l[id]:hover a{opacity:1;}</style><h3 id="getstaticprops" class="css-1f42p9l"><div class="css-12m0k8p"><code class="css-gsdies">getStaticProps</code><a aria-label="anchor" href="#getstaticprops" class="css-1evxenp">#</a></div></h3><p class="css-gj0z5j">Let&#x27;s consider an e-commerce site showing a list of all products. At build time, we want to fetch all products from a content management system (CMS) and use this data to pre-render the <code class="css-gsdies">Products</code> component. In Next.js, you can do so by exporting a <code class="css-gsdies">getStaticProps</code> function in a page component file. You can fetch external data in this function, and it will be used to pre-render the page component at build time.</p><pre class="language-jsx" mb="8"><code class="language-jsx"><span class="token keyword module">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getStaticProps</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    props<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// getProductsFromCMS() will fetch() the CMS API</span>
      products<span class="token punctuation">:</span> <span class="token keyword">await</span> <span class="token function">getProductsFromCMS</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Products receives products prop from getStaticProps</span>
<span class="token comment">// at build time</span>
<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Products</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> products <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Products</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> 
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span>products<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">product</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">(</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>product<span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>product<span class="token punctuation">.</span><span class="token property-access">name</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p class="css-gj0z5j"><code class="css-gsdies">getStaticProps</code> runs only in a build server (Node.js environment) and is <a target="_blank" rel="noopener noreferrer" href="https://nextjs.org/docs/basic-features/data-fetching#technical-details" class="css-cw6lli">not included</a> in the client-side JavaScript bundle, so you can directly query your database if necessary.</p><h3 id="getstaticpaths" class="css-1f42p9l"><div class="css-12m0k8p"><code class="css-gsdies">getStaticPaths</code><a aria-label="anchor" href="#getstaticpaths" class="css-1evxenp">#</a></div></h3><p class="css-gj0z5j">Your e-commerce site also needs to pre-render each product page at build time. Each product needs to have its own route based on its <code class="css-gsdies">id</code>, i.e. <code class="css-gsdies">/products/[id]</code>. In Next.js, this can be done using <a target="_blank" rel="noopener noreferrer" href="https://nextjs.org/docs/routing/dynamic-routes" class="css-cw6lli">dynamic routes</a> and <code class="css-gsdies">getStaticPaths</code>.</p><p class="css-gj0z5j">We also need the product data for each page. In combination with <code class="css-gsdies">getStaticProps</code>, we can fetch the specific product data for that <code class="css-gsdies">id</code>. If a product is not found given the <code class="css-gsdies">id</code>, it will show a 404 page (this is because of <code class="css-gsdies">fallback: false</code> ).</p><pre class="language-jsx" mb="8"><code class="language-jsx"><span class="token comment">// pages/products/[id].js</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Product</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> product <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Render product</span>
<span class="token punctuation">}</span>

<span class="token comment">// In getStaticPaths(), you need to return the list of</span>
<span class="token comment">// ids of product pages (/products/[id]) that you&#x27;d</span>
<span class="token comment">// like to pre-render at build time. To do so,</span>
<span class="token comment">// you can fetch all products from your CMS.</span>
<span class="token keyword module">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getStaticPaths</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> products <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getProductsFromCMS</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> paths <span class="token operator">=</span> products<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">product</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    params<span class="token punctuation">:</span> <span class="token punctuation">{</span> id<span class="token punctuation">:</span> product<span class="token punctuation">.</span><span class="token property-access">id</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// fallback: false means pages that don&#x27;t have the</span>
  <span class="token comment">// correct id will 404.</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> paths<span class="token punctuation">,</span> fallback<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// params will contain the id for each generated page.</span>
<span class="token keyword module">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getStaticProps</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> params <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    props<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      product<span class="token punctuation">:</span> <span class="token keyword">await</span> <span class="token function">getProductFromCMS</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h2 id="incremental-static-generation" class="css-6uqkqq"><div class="css-12m0k8p">Incremental Static Generation<a aria-label="anchor" href="#incremental-static-generation" class="css-1evxenp">#</a></div></h2><p class="css-gj0z5j">Now, suppose that your e-commerce platform has grown significantly. Instead of 100 products, you now have 100,000. Products get updated frequently. This poses two problems:</p><ul class="css-f9izp6"><li class="css-1fu0ejk">Pre-rendering 100,000 pages at build time can be very slow.</li><li class="css-1fu0ejk">When product data is updated, you only want to modify the affected pages. We can&#x27;t have a full site rebuild every time a product is modified.</li></ul><p class="css-gj0z5j">Both of these problems can be solved by <strong>Incremental Static Generation</strong>. Incremental Static Generation is about pre-rendering <strong>a subset of pages incrementally after build time</strong>. It can be used to add pages or update existing pre-rendered pages. This allows you to keep <a target="_blank" rel="noopener noreferrer" href="https://rauchg.com/2020/2019-in-review#static-is-the-new-dynamic" class="css-cw6lli">the benefits of static</a> (always fast, always online, globally distributed) with dynamic data.</p><h3 id="adding-pages" class="css-1f42p9l"><div class="css-12m0k8p">Adding Pages<a aria-label="anchor" href="#adding-pages" class="css-1evxenp">#</a></div></h3><p class="css-gj0z5j">If you have 100,000 products, and pre-rendering all pages at build time is too slow, you can pre-render pages lazily.</p><p class="css-gj0z5j">For example, suppose that one of those 100,000 products is called product X. Using Next.js, we can pre-render this page when a user requests the page for product X. Here&#x27;s how it works:</p><ol class="css-f9izp6"><li class="css-1fu0ejk">A user requests the page for product X.</li><li class="css-1fu0ejk">We haven&#x27;t pre-rendered this page yet. Instead of rendering 404, Next.js can serve a &quot;fallback&quot; version of this page (for example, show a loading indicator).</li><li class="css-1fu0ejk">In the background, Next.js will render the product X page. When that&#x27;s done, the loading page will be swapped to the product X page.</li><li class="css-1fu0ejk">The next time someone else requests the page for product X, the pre-rendered product X page will be served, just like regular static generation.</li></ol><p class="css-gj0z5j">To enable this behavior, you can specify <code class="css-gsdies">fallback: true</code> in <code class="css-gsdies">getStaticPaths</code>. Then, in the page itself, you can use <code class="css-gsdies">router.isFallback</code> to see if the loading indicator should be displayed.</p><pre class="language-jsx" mb="8"><code class="language-jsx"><span class="token keyword module">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getStaticProps</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> params <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>

<span class="token keyword module">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getStaticPaths</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>

  <span class="token comment">// fallback: true means that the missing pages</span>
  <span class="token comment">// will not 404, and instead can render a fallback.</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> paths<span class="token punctuation">,</span> fallback<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">Product</span></span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> product <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">useRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>router<span class="token punctuation">.</span><span class="token property-access">isFallback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Loading...</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// Render product...</span>
<span class="token punctuation">}</span>
</code></pre><p class="css-gj0z5j"><a target="_blank" rel="noopener noreferrer" href="https://static-tweet.now.sh/" class="css-cw6lli">Here&#x27;s an example of this behavior using Twitter as the data source</a>.</p><h3 id="updating-existing-pages-incremental-static-regeneration" class="css-1f42p9l"><div class="css-12m0k8p">Updating Existing Pages: Incremental Static &quot;Re&quot;Generation<a aria-label="anchor" href="#updating-existing-pages-incremental-static-regeneration" class="css-1evxenp">#</a></div></h3><p class="css-gj0z5j">When a product data is updated, you wouldn&#x27;t want to rebuild the entire app; only the affected pages should be updated.</p><p class="css-gj0z5j">For example, suppose that at build time, we&#x27;ve pre-rendered the page for product Y. At some point, the data for product Y gets updated. Using Next.js, we can pre-render this page again after some interval. Here&#x27;s how it works:</p><ol class="css-f9izp6"><li class="css-1fu0ejk">Next.js can define a &quot;timeout&quot; for this page – let&#x27;s set it at 60 seconds.</li><li class="css-1fu0ejk">The data for product Y is updated.</li><li class="css-1fu0ejk">When the page for product Y is requested, the user will see the existing (out of date) page.</li><li class="css-1fu0ejk">When another request comes in 60 seconds after the previous request, this user will also see the existing (out of date) page, but in the background, Next.js pre-renders this page again, updating the existing HTML file.</li><li class="css-1fu0ejk">Once the pre-rendering is done, from then on Next.js serves the updated page for product Y.</li></ol><p class="css-gj0z5j">To enable this behavior, you can specify <code class="css-gsdies">unstable_revalidate: 60</code> in <code class="css-gsdies">getStaticProps</code>. It has the <code class="css-gsdies">unstable_</code> prefix because as of writing, this feature is currently in beta (but ready for production).</p><pre class="language-jsx" mb="8"><code class="language-jsx"><span class="token keyword module">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getStaticProps</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    products<span class="token punctuation">:</span> <span class="token keyword">await</span> <span class="token function">getProductsFromCMS</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    unstable_revalidate<span class="token punctuation">:</span> <span class="token number">60</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p class="css-gj0z5j">Inspired by <a target="_blank" rel="noopener noreferrer" href="https://tools.ietf.org/html/rfc5861" class="css-cw6lli">stale-while-revalidate</a>, this ensures traffic is served statically, and new pages are pushed only after generating successfully.</p><p class="css-gj0z5j">Incremental Static Generation is fully supported by both <code class="css-gsdies">next start</code> and the <a target="_blank" rel="noopener noreferrer" href="https://vercel.com/" class="css-cw6lli">Vercel edge platform</a> out of the box.</p><h2 id="client-side-fetching" class="css-6uqkqq"><div class="css-12m0k8p">Client-Side Fetching<a aria-label="anchor" href="#client-side-fetching" class="css-1evxenp">#</a></div></h2><p class="css-gj0z5j">Some pages, like a user dashboard, can only be partially pre-rendered ahead of a request at build time. Most items on such pages must be rendered at request time. In such cases, you can do Client-side Fetching:</p><ol class="css-f9izp6"><li class="css-1fu0ejk">Pre-render the page without data and show a loading state.</li><li class="css-1fu0ejk">Then, fetch and display the data client-side.</li></ol><p class="css-gj0z5j">For fetching data, I recommend using the data fetching library <a target="_blank" rel="noopener noreferrer" href="https://swr.now.sh/" class="css-cw6lli">SWR</a>. It handles caching, revalidation, focus tracking, and more. For our e-commerce application, an example would be the shopping cart.</p><pre class="language-jsx" mb="8"><code class="language-jsx"><span class="token keyword module">import</span> useSWR <span class="token keyword module">from</span> <span class="token string">&#x27;swr&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">ShoppingCart</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// fetchAPI is the function to do data fetching</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> data<span class="token punctuation">,</span> error <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useSWR</span><span class="token punctuation">(</span><span class="token string">&#x27;/api/cart&#x27;</span><span class="token punctuation">,</span> fetchAPI<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">failed to load</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>data<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">loading...</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Items in Cart: </span><span class="token punctuation">{</span>data<span class="token punctuation">.</span><span class="token property-access">products</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h2 id="server-side-rendering" class="css-6uqkqq"><div class="css-12m0k8p">Server-Side Rendering<a aria-label="anchor" href="#server-side-rendering" class="css-1evxenp">#</a></div></h2><p class="css-gj0z5j">Next.js can also pre-render a page on the server on <strong>every request</strong> – this is called Server-side Rendering. To use this feature, you can export a function called <code class="css-gsdies">getServerSideProps</code> from a page, just like <code class="css-gsdies">getStaticProps</code>.</p><p class="css-gj0z5j">However, I <strong>do not recommend</strong> using this strategy if you can use Incremental Static Generation or Client-side Fetching. With server rendering, the <a target="_blank" rel="noopener noreferrer" href="https://nextjs.org/docs/advanced-features/measuring-performance#web-vitals" class="css-cw6lli">Time to First Byte (TTFB)</a> is slower than Static Generation because the server must pre-render the page on every request. Without extra configuration, the pre-rendered pages cannot be cached by a CDN. It&#x27;s also slower than Client-side Fetching because with Client-side Fetching, you&#x27;ll see the loading state immediately.</p><p class="css-gj0z5j">Server rendering is not disappearing <a target="_blank" rel="noopener noreferrer" href="https://rauchg.com/2020/2019-in-review#static-is-the-new-dynamic" class="css-cw6lli">but evolving</a>. Try Incremental Static Generation or Client-side Fetching and see if they fit your needs.</p><h2 id="also-writing-data" class="css-6uqkqq"><div class="css-12m0k8p">Also: Writing Data<a aria-label="anchor" href="#also-writing-data" class="css-1evxenp">#</a></div></h2><p class="css-gj0z5j">Fetching data is only half the equation. Your app might need to write data back to your data source. Adding an item to the shopping cart is a good example of this.</p><p class="css-gj0z5j">Next.js has a feature called <strong>API Routes</strong> for this purpose. To use this feature, you can create a file inside the <code class="css-gsdies">pages/api</code> directory, which creates an API endpoint we can use to mutate our data source. For example, we can create <code class="css-gsdies">pages/api/cart.js</code>, which accepts a <code class="css-gsdies">productId</code> query parameter and adds that item to our cart.</p><p class="css-gj0z5j">Inside our <a target="_blank" rel="noopener noreferrer" href="https://nextjs.org/docs/api-routes/introduction" class="css-cw6lli">API route</a>, we export a request handler, which receives a request and returns a <code class="css-gsdies">json</code> response.</p><pre class="language-jsx" mb="8"><code class="language-jsx"><span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">https://.../cart</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    body<span class="token punctuation">:</span> <span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      productId<span class="token punctuation">:</span> req<span class="token punctuation">.</span><span class="token property-access">query</span><span class="token punctuation">.</span><span class="token property-access">productId</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    headers<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token maybe-class-name">Authorization</span><span class="token punctuation">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Token </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>process<span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">YOUR_API_KEY</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
      <span class="token string">&#x27;Content-Type&#x27;</span><span class="token punctuation">:</span> <span class="token string">&#x27;application/json&#x27;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    method<span class="token punctuation">:</span> <span class="token string">&#x27;POST&#x27;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token punctuation">{</span> products <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token method function property-access">status</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> products <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><p class="css-gj0z5j">API routes allow us to write to an external data source securely. Using <a target="_blank" rel="noopener noreferrer" href="https://nextjs.org/docs/basic-features/environment-variables" class="css-cw6lli">environment variables</a>, we can include secrets for authentication without exposing the values client-side.</p><p class="css-gj0z5j">API routes can be deployed as <a target="_blank" rel="noopener noreferrer" href="https://vercel.com/docs/v2/serverless-functions/introduction" class="css-cw6lli">Serverless Functions</a> (which is the default when you deploy to Vercel).</p><h2 id="conclusion" class="css-6uqkqq"><div class="css-12m0k8p">Conclusion<a aria-label="anchor" href="#conclusion" class="css-1evxenp">#</a></div></h2><p class="css-gj0z5j">The hybrid approach of Next.js allows changing your data fetching strategy on a per-page basis.</p><ul class="css-f9izp6"><li class="css-1fu0ejk">Use Static Generation and Incremental Static Generation to pre-render pages ahead of a request.</li><li class="css-1fu0ejk">Use Client-side Fetching if you need to render a page at request time.</li><li class="css-1fu0ejk">Mutate data using API routes.</li></ul><p class="css-gj0z5j">For more information, check out the Next.js documentation.</p><ul class="css-f9izp6"><li class="css-1fu0ejk"><a target="_blank" rel="noopener noreferrer" href="https://nextjs.org/docs/basic-features/pages#pre-rendering" class="css-cw6lli">Pre-Rendering</a></li><li class="css-1fu0ejk"><a target="_blank" rel="noopener noreferrer" href="https://nextjs.org/docs/basic-features/data-fetching" class="css-cw6lli">Data Fetching</a></li><li class="css-1fu0ejk"><a target="_blank" rel="noopener noreferrer" href="https://nextjs.org/docs/api-routes/introduction" class="css-cw6lli">API Routes</a></li></ul><p class="css-gj0z5j">If you&#x27;d like to follow along with React 2025, check out <a target="_blank" rel="noopener noreferrer" href="https://fastfeedback.io/" class="css-cw6lli">Fast Feedback</a> as well as the <a target="_blank" rel="noopener noreferrer" href="https://github.com/leerob/fastfeedback" class="css-cw6lli">GitHub repo</a>. It&#x27;s not much yet, but it&#x27;s growing quickly! Also, feel free to reach out if you have any questions. I look forward to hearing from you!</p><style data-emotion-css="1m95vvf">.css-1m95vvf{border:1px solid;border-color:#90cdf4;background-color:#ebf8ff;border-radius:4px;padding:1.5rem;margin-top:1rem;margin-bottom:1rem;width:100%;}</style><div class="css-1m95vvf"><style data-emotion-css="up8884">.css-up8884{font-size:1.25rem;line-height:1.25;font-weight:700;font-family:heading;margin-bottom:0.5rem;}@media screen and (min-width:48em){.css-up8884{font-size:1.5rem;}}</style><h5 class="css-up8884">Subscribe to the newsletter</h5><style data-emotion-css="l2iagl">.css-l2iagl{font-family:Libre Baskerville,serif;}</style><p class="css-l2iagl">Get emails from me about web development, tech, and early access to new articles.</p><style data-emotion-css="1vgnk4f">.css-1vgnk4f{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;margin-top:1rem;}</style><div class="css-1vgnk4f"><style data-emotion-css="1ga4kqw">.css-1ga4kqw{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;-webkit-transition:all 0.2s;transition:all 0.2s;outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;font-size:1rem;padding-left:1rem;padding-right:1rem;height:2.5rem;border-radius:0.25rem;border:1px solid;border-color:inherit;background-color:#fff;}.css-1ga4kqw:hover{border-color:#CBD5E0;}.css-1ga4kqw:focus{z-index:1;border-color:#3182ce;box-shadow:0 0 0 1px #3182ce;}.css-1ga4kqw:disabled,.css-1ga4kqw:disabled:focus,.css-1ga4kqw:disabled:hover,.css-1ga4kqw[aria-disabled=true],.css-1ga4kqw[aria-disabled=true]:focus,.css-1ga4kqw[aria-disabled=true]:hover{opacity:0.4;cursor:not-allowed;}.css-1ga4kqw[aria-invalid=true]{border-color:#e53e3e;box-shadow:0 0 0 1px #e53e3e;}.css-1ga4kqw[aria-readonly=true],.css-1ga4kqw[readonly]{background-color:transparent;box-shadow:none !important;-webkit-user-select:all;-moz-user-select:all;-ms-user-select:all;user-select:all;}</style><input type="email" aria-label="Email for newsletter" placeholder="tim@apple.com" class="css-1ga4kqw"/><style data-emotion-css="1fs9xe6">.css-1fs9xe6{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:absolute;height:2.5rem;width:6.75rem;font-size:1rem;top:0;z-index:2;right:0;}</style><div class="css-1fs9xe6"><style data-emotion-css="evlpe8">.css-evlpe8{border-radius:0.25rem;font-weight:700;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:all 250ms;transition:all 250ms;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;white-space:nowrap;vertical-align:middle;line-height:1.2;outline:none;height:1.75rem;min-width:2rem;font-size:0.875rem;padding-left:0.75rem;padding-right:0.75rem;background-color:#EDF2F7;}.css-evlpe8:hover{background-color:#E2E8F0;}.css-evlpe8:focus{box-shadow:0 0 0 3px rgba(66,153,225,0.6);}.css-evlpe8:active,.css-evlpe8[data-active=true]{background-color:#CBD5E0;}.css-evlpe8:disabled,.css-evlpe8:disabled:focus,.css-evlpe8:disabled:hover,.css-evlpe8[aria-disabled=true],.css-evlpe8[aria-disabled=true]:focus,.css-evlpe8[aria-disabled=true]:hover{opacity:0.4;cursor:not-allowed;box-shadow:none;}</style><button aria-disabled="false" type="button" class="css-evlpe8">Subscribe</button></div></div></div></article><style data-emotion-css="15wb3ll">.css-15wb3ll{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:1rem;}</style><div class="css-15wb3ll"><div class="css-1m95vvf"><h5 class="css-up8884">Subscribe to the newsletter</h5><p class="css-l2iagl">Get emails from me about web development, tech, and early access to new articles.</p><div class="css-1vgnk4f"><input type="email" aria-label="Email for newsletter" placeholder="tim@apple.com" class="css-1ga4kqw"/><div class="css-1fs9xe6"><button aria-disabled="false" type="button" class="css-evlpe8">Subscribe</button></div></div></div><div><style data-emotion-css="u5zpo1">.css-u5zpo1{-webkit-transition:all 0.15s ease-out;transition:all 0.15s ease-out;cursor:pointer;-webkit-text-decoration:none;text-decoration:none;outline:none;}.css-u5zpo1:hover{-webkit-text-decoration:underline;text-decoration:underline;}.css-u5zpo1:focus{box-shadow:0 0 0 3px rgba(66,153,225,0.6);}.css-u5zpo1:disabled,.css-u5zpo1:disabled:focus,.css-u5zpo1:disabled:hover,.css-u5zpo1[aria-disabled=true],.css-u5zpo1[aria-disabled=true]:focus,.css-u5zpo1[aria-disabled=true]:hover{opacity:0.4;cursor:not-allowed;-webkit-text-decoration:none;text-decoration:none;}</style><a target="_blank" rel="noopener noreferrer" href="mailto:me@leerob.io" title="Email" class="css-u5zpo1"><style data-emotion-css="119ms3i">.css-119ms3i{border-radius:0.25rem;font-weight:semibold;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:all 250ms;transition:all 250ms;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;white-space:nowrap;vertical-align:middle;line-height:1.2;outline:none;height:3rem;min-width:3rem;font-size:1.125rem;padding-left:1.5rem;padding-right:1.5rem;color:#718096;padding:0;}.css-119ms3i:hover{background-color:#EDF2F7;}.css-119ms3i:focus{box-shadow:0 0 0 3px rgba(66,153,225,0.6);}.css-119ms3i:active,.css-119ms3i[data-active=true]{background-color:#E2E8F0;}.css-119ms3i:disabled,.css-119ms3i:disabled:focus,.css-119ms3i:disabled:hover,.css-119ms3i[aria-disabled=true],.css-119ms3i[aria-disabled=true]:focus,.css-119ms3i[aria-disabled=true]:hover{opacity:0.4;cursor:not-allowed;box-shadow:none;}</style><button type="button" aria-label="Email" class="css-119ms3i"><style data-emotion-css="1im46kq">.css-1im46kq{width:1em;height:1em;color:currentColor;display:inline-block;vertical-align:middle;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-backface-visibility:hidden;backface-visibility:hidden;}.css-1im46kq:not(:root){overflow:hidden;}</style><svg viewBox="0 0 24 24" focusable="false" role="presentation" aria-hidden="true" class="css-1im46kq"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></g></svg></button></a></div></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/newsletter/20","query":{},"buildId":"aIxBprbVF1yAtNWp95H0R","nextExport":true,"autoExport":true,"isFallback":false}</script><script nomodule="" src="/_next/static/chunks/polyfills-18f71dd1af0e8c9b6ae0.js"></script><script src="/_next/static/chunks/main-c5ea05de06c424b4f36e.js" async=""></script><script src="/_next/static/chunks/webpack-5f5da67af476a9b2bff8.js" async=""></script><script src="/_next/static/chunks/framework.4df82c4704a0136f6a4b.js" async=""></script><script src="/_next/static/chunks/commons.3b42515caf842d5ab116.js" async=""></script><script src="/_next/static/chunks/956f1b76d5e0e7f20757023976b92991ff1dea5e.e83237e84e746845c80b.js" async=""></script><script src="/_next/static/chunks/018310efb8b62484aaa09f1e9d3bc7c8c071d4d7.2884ae4fb7150e21e7b1.js" async=""></script><script src="/_next/static/chunks/pages/_app-60018d49230de46f8414.js" async=""></script><script src="/_next/static/chunks/52f0785393fa59d648e59669218d3a1cddda6398.c4ac01036d30fc8afd34.js" async=""></script><script src="/_next/static/chunks/77eb9d3952628bbc3742cd65c61c28bbc2e2ff7d.b8490b630da4305bd017.js" async=""></script><script src="/_next/static/chunks/pages/newsletter/20-de2e0f094940933760a8.js" async=""></script><script src="/_next/static/aIxBprbVF1yAtNWp95H0R/_buildManifest.js" async=""></script><script src="/_next/static/aIxBprbVF1yAtNWp95H0R/_ssgManifest.js" async=""></script></body></html>